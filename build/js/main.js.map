{"version":3,"file":"main.js","sources":["../../source/js/global.js","../../source/js/HomeViewController.js","../../source/js/ListViewController.js","../../source/js/MatrixItemView.js","../../source/js/MatrixScrollbarView.js","../../source/js/MatrixViewController.js","../../source/js/GraphViewController.js","../../source/js/ManualViewController.js","../../source/js/GuidelineViewController.js","../../source/js/ChangeLogViewController.js","../../source/js/StarImage.js","../../source/js/DetailViewController.js","../../source/js/Datasets.js","../../source/js/ViewLabel.js","../../source/js/ControlPanel.js","../../source/js/Star.js","../../source/js/RDFPortal.js","../../source/js/UserDefaults.js","../../source/js/main.js"],"sourcesContent":["/* global $ */\n\nexport const isDebug = false;\nexport const $w = $(window);\n\nexport const __g = {\n\tVIEWS: {\n\t\thome: 0,\n\t\tdatasets: 1,\n\t\tstatistics: 2,\n\t\tnetwork: 3,\n\t\tdocuments: 4,\n\t\tguideline: 5,\n\t\tchangeLog: 6,\n\t\tdataset: 7\n\t},\n\tVIEWS_NAME: [ 'home', 'datasets', 'statistics', 'network', 'documents', 'guideline', 'changeLog', 'dataset' ],\n\tVIEWS_LABEL: [ 'Home', 'Datasets', 'Statistics', 'Network view', 'Documents', 'Guideline', 'Change log', ' ' ],\n\tVIEW_LABEL_DETAIL: 'dataset',\n\tSTAR_TYPE: {\n\t\tfirst: 'first',\n\t\tconnected: 'connected'\n\t},\n\tSTRINGS: {},\n\tCOLORS: [\n\t\t'#E4007F',\n\t\t'#FF2121',\n\t\t'#FF29A0',\n\t\t'#FF8000',\n\t\t'#EBB800',\n\t\t'#CAD400',\n\t\t'#9AD400',\n\t\t'#15AD52',\n\t\t'#00D1AB',\n\t\t'#00C0FA',\n\t\t'#5E65E6',\n\t\t'#9B5BF0',\n\t\t'#B813BD',\n\t\t'#E47295',\n\t\t'#E4C172',\n\t\t'#BAED77',\n\t\t'#90E4CF',\n\t\t'#799AE4',\n\t\t'#C57DE4',\n\t\t'#99007B',\n\t\t'#992509',\n\t\t'#8C9900',\n\t\t'#09751F',\n\t\t'#007B99',\n\t\t'#432E99'\n\t],\n\tDURATION: 500,\n\tDETAIL_DELAY: 400,\n\tCLASS: {\n\t\tSTAR_HOVERING: 'star-hovering',\n\t\tTAG_HOVERING: 'tag-hovering',\n\t\tCONNECTED_STAR_HOVERING: 'connected-star-hovering'\n\t},\n\tDETAIL_MARGIN: 310,\n\tDETAIL_MARGIN_RIGHT: 24,\n\tDATA_LENGTH: 20,\n\t//SVG_MARGIN_LEFT: -114,\n\tSVG_MARGIN_LEFT: 0,\n\td3: {\n\t\tsvg: undefined,\n\t\tedges: undefined,\n\t\tnodesData: [],\n\t\tnodesSelection: undefined,\n\t\tlinksData: [],\n\t\tlinksSelection: undefined,\n\t\tforce: undefined\n\t},\n\tdisposableStarId: 0,\n\tcanvasId: 0,\n\tcontrolPanel: undefined,\n\tuserDefaults: undefined,\n\tstyleSheet: undefined,\n\tguideline: {},\n\trootPath: (() => {\n\t\tconst\n\t\t\thost = location.host,\n\t\t\tpathname = location.pathname;\n\t\tlet path;\n\t\tif (host.indexOf('integbio') !== -1) {\n\t\t\tif (pathname.indexOf('/rdf/dev/') !== -1) {\n\t\t\t\tpath = '/rdf/dev/';\n\t\t\t} else if (pathname.indexOf('/rdf/staging/') !== -1) {\n\t\t\t\tpath = '/rdf/staging/';\n\t\t\t} else if (pathname.indexOf('/rdf/prod/') !== -1) {\n\t\t\t\tpath = '/rdf/prod/';\n\t\t\t} else {\n\t\t\t\tpath = '/rdf/';\n\t\t\t}\n\t\t} else if (host.indexOf('penqe') !== -1) {\n\t\t\tpath = '/dbcls/rdfp/';\n\t\t} else {\n\t\t\tpath = '/';\n\t\t}\n\t\treturn path;\n\t})()\n};\n\n\n// HTML生成用関数\nexport const _html = function() {\n\tlet tag, attr, html;\n\n\tswitch (arguments.length) {\n\n\t\tcase 2: \n\t\t\ttag = arguments[0];\n\t\t\tattr = '';\n\t\t\thtml = arguments[1];\n\t\tbreak;\n\n\t\tcase 3: {\n\t\t\ttag = arguments[0];\n\t\t\tconst attrObje = arguments[1];\n\t\t\tattr = (function(){\n\t\t\t\tlet attrHtml = '';\n\t\t\t\tfor (const i in attrObje) {\n\t\t\t\t\tattrHtml += ` ${i}=\"${attrObje[i]}\"`;\n\t\t\t\t}\n\t\t\t\treturn attrHtml;\n\t\t\t})();\n\t\t\thtml = arguments[2];\n\t\t}\n\t\tbreak;\n\t\t\n\t}\n\treturn `<${tag} ${attr}>${html}</${tag}>`;\n};\n\nexport const _MLHtml = function() {\n\tlet tag, attr, MLtext, html = '', lang;\n\n\tswitch (arguments.length) {\n\n\t\tcase 1: \n\t\t\tMLtext = arguments[0];\n\t\t\tfor (lang in MLtext) {\n\t\t\t\thtml += _html('span', { lang: lang }, MLtext[lang]);\n\t\t\t}\n\t\t\treturn html;\n\t\t//break;\n\n\t\tcase 2: \n\t\t\ttag = arguments[0];\n\t\t\tattr = '';\n\t\t\tMLtext = arguments[1];\n\t\tbreak;\n\n\t\tcase 3: \n\t\t\ttag = arguments[0];\n\t\t\tattr = arguments[1];\n\t\t\tMLtext = arguments[2];\n\t\tbreak;\n\t\t\n\t}\n\tfor (lang in MLtext) {\n\t\thtml += _html('span', { lang: lang }, MLtext[lang]);\n\t}\n\treturn _html(tag, attr, html);\n};\n\nexport const _numeral = value => `<span class=\"numeral\">${value}</span>`;\n\nexport const _htmlAnchor = (uri, label) => _html('a', { href: uri, target: '_blank' }, (label === '' || label.indexOf('lang=\"en\"></span>') !== -1) ? uri : label);\n\nexport const _MLAnchor = (uri, label) => {\n\tlet html = '';\n\tconst isString = typeof uri === 'string';\n\tfor (const lang in label) {\n\t\tconst uri2 = isString ? uri : uri[lang];\n\t\thtml += _html(\n\t\t\t'a',\n\t\t\t{ lang: lang, href: uri2, target: '_blank' },\n\t\t\tlabel[lang] === '' ? uri2 : label[lang]\n\t\t);\n\t}\n\treturn html;\n};\n\nexport const _htmlTR = (key, value) => _html('tr', _html('th', key) + _html('td', value));\n\nexport const _htmlTRValueNumeral = (key, value) => `<tr class=\"value-numeral\"><th>${key}</th><td>${_numeral(value)}</td></tr>`;\n\nexport const _htmlTRHasDetailValueNumeral = (key, value) => `<tr class=\"has-detail value-numeral\"><th>${key}<span class=\"open-button\"></span></th><td>${_numeral(value)}</td></tr>`;\n\n/* Classes / Instances または Properties / Triples の場合のディティール折りたたみ\n * @param key\t\t\t\t\t\t\t項目名\n * @param value\t\t\t\t\t\t値\n * @param kind\t\t\t\t\t\t種類（classes / properties）\n * @param jsonUri\t\t\t\t\t閉じられた領域の情報を格納するJSONのURI\n * @param classification\t項目がどこに属するか（undefined / ontology / graph）\n * @param index\t\t\t\t\t\t配列の場合の位置\n *\n */\nexport const _htmlTRHasDetailValueNumeral2 = (key, value, kind, jsonUri, classification, index) => `<tr class=\"has-detail value-numeral\" data-json-kind=\"${kind}\" data-json-uri=\"${jsonUri}\" data-classification=\"${classification}\" data-index=\"${index}\"><th>${key}<span class=\"open-button\"></span></th><td>${value}</td></tr>`;\n\nexport const _htmlTRDetail = detailHtml => `<tr class=\"detail\"><td colspan=\"2\"><div class=\"closer\"><div class=\"closer-inner\">${detailHtml}</div></div></td></tr>`;\n\n/* param item: 'graphs' or 'ontorogies'\n */\nexport const _htmlHasDetailAndDetail = item => {\n\tconst\n\t\tdatasets = __g.app.datasets,\n\t\tstarId = __g.app.currentStarId,\n\t\tSTR = __g.STRINGS;\n\tif (datasets[item].noOf(starId) === 0) {\n\t\treturn '';\n\t}\n\tconst html =\n\t_html('tbody',\n\t\t_html('tr', { class: 'caption' },\n\t\t\t_html('th', { colspan: 2 }, _MLHtml(STR[item]))) +\n\t\t(function(){\n\t\t\tlet subHtml = '';\n\t\t\tfor (let i = 0; i < datasets[item].noOf(starId); i++) {\n\t\t\t\t//var uri = datasets[item].uri(starId, i);\n\t\t\t\tsubHtml +=\n\t\t\t\t\t_html('tr', { class: 'has-detail' },\n\t\t\t\t\t\t_html('th', { colspan: 2 }, datasets[item].uri(starId, i) + '<span class=\"open-button\"></span>')) +\n\t\t\t\t\t_html('tr', { class: 'detail hidden' },\n\t\t\t\t\t\t_html('td', { colspan: 2 }, \n\t\t\t\t\t\t\t_html('div', { class: 'closer' },\n\t\t\t\t\t\t\t\t_html('div', { class: 'closer-inner' },\n\t\t\t\t\t\t\t\t\t_html('table', { class: 'horizontal-table internal' },\n\t\t\t\t\t\t\t\t\t\t_htmlStatics(starId, item, i))))));\n\t\t\t}\n\t\t\treturn subHtml;\n\t\t})()\n\t);\n\treturn html;\n};\n\nexport const _htmlStatics = (starId, classification, index) => {\n\tconst\n\t\tSTR = __g.STRINGS,\n\t\tHYPHEN = '<span class=\"hyphen\"></span>',\n\t\tDATASETS = classification === undefined ? __g.app.datasets : __g.app.datasets[classification],\n\t\tNO_OF_CLASSES = DATASETS.classes.noOf(starId, index),\n\t\tNO_OF_PROPERTIES = DATASETS.properties.noOf(starId, index),\n\t\tNO_OF_DATATYPES = DATASETS.datatypes.noOf(starId, index),\n\t\thtml =\n\t_html('tbody', \n\t\t(function(){ // description & files\n\t\t\tif (classification === undefined) {\n\t\t\t\treturn '';\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\tnoOfFiles = DATASETS.files.noOf(starId, index),\n\t\t\t\t\tsubHtml2 =\n\t\t\t\t_html('tr', // description\n\t\t\t\t\t_html('td', { colspan: 2 }, _MLHtml( DATASETS.description(starId, index) ))\n\t\t\t\t) +\n\t\t\t\t'<tr>' +\n\t\t\t\t\t`<th rowspan=\"${noOfFiles}\">${_MLHtml( STR.files )}</th>` +\n\t\t\t\t\t(function(){\n\t\t\t\t\t\tlet subHtml3 = '';\n\t\t\t\t\t\tfor (var i = 0; i < noOfFiles; i++) {\n\t\t\t\t\t\t\tsubHtml3 += `${i > 0 ? '<tr>' : ''}<td><p class=\"files\">${_htmlAnchor(DATASETS.files.uri(starId, i, index), DATASETS.files.name(starId, i, index))}<small>${_numeral(DATASETS.files.size(starId, i, index))} bytes</small></p></td></tr>'`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t})();\n\t\t\t\treturn subHtml2;\n\t\t\t}\n\t\t})() +\n\t\t_htmlTRValueNumeral( _MLHtml( STR.subjects ), DATASETS.noOfSubjects(starId, index) ) + // subjects\n\t\t_htmlTRValueNumeral( _MLHtml( STR.objects ), DATASETS.noOfObjects(starId, index) ) + // objects\n\t\t_htmlTRValueNumeral( _MLHtml( STR.literals ), DATASETS.noOfLiterals(starId, index) ) + // literals\n\t\t_htmlTRHasDetailValueNumeral2( // classes / instances\n\t\t\t_MLHtml(STR.classes) + HYPHEN + _MLHtml(STR.instances),\n\t\t\t_numeral(NO_OF_CLASSES) + HYPHEN + _numeral(DATASETS.noOfInstances(starId, index)),\n\t\t\t'classes',\n\t\t\tDATASETS.classes.jsonUri(starId, index),\n\t\t\tclassification,\n\t\t\tindex\n\t\t) +\n\t\t_htmlTRDetail((function(){\n\t\t\tconst subHtml2 =\n\t\t\t\t_html('table', { class: 'internal' },\n\t\t\t\t\t_html('thead',\n\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t_MLHtml('th', STR.classes) +\n\t\t\t\t\t\t\t_MLHtml('th', STR.numberOfInstances))) +\n\t\t\t\t\t_html('tbody', \n\t\t\t\t\t\t_html('tr', { class: 'loading' },\n\t\t\t\t\t\t\t_html('td', { colspan: 2 }, ''))));\n\t\t\treturn subHtml2;\n\t\t})()) +\n\t\t_htmlTRHasDetailValueNumeral2( // properties / triples\n\t\t\t_MLHtml(STR.properties) + HYPHEN + _MLHtml(STR.triples),\n\t\t\t_numeral(NO_OF_PROPERTIES) + HYPHEN + _numeral(DATASETS.noOfTriples(starId, index)),\n\t\t\t'properties',\n\t\t\tDATASETS.properties.jsonUri(starId, index),\n\t\t\tclassification,\n\t\t\tindex\n\t\t) + \n\t\t_htmlTRDetail((function(){\n\t\t\tconst subHtml2 = \n\t\t\t\t_html('table', { class: 'internal' },\n\t\t\t\t\t_html('thead',\n\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t_MLHtml('th', STR.properties) +\n\t\t\t\t\t\t\t_MLHtml('th', STR.numberOfTriples))) +\n\t\t\t\t\t_html('tbody', \n\t\t\t\t\t\t_html('tr', { class: 'loading' },\n\t\t\t\t\t\t\t_html('td', { colspan: 2 }, ''))));\n\t\t\treturn subHtml2;\n\t\t})()) +\n\t\t_htmlTRHasDetailValueNumeral( _MLHtml( STR.datatypes ), NO_OF_DATATYPES ) + // datasets\n\t\t_htmlTRDetail((function(){\n\t\t\tconst subHtml2 = \n\t\t\t\t_html('table', { class: 'internal' }, \n\t\t\t\t\t_html('thead',\n\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t_MLHtml('th', STR.datatypes))) +\n\t\t\t\t\t_html('tbody', (function(){\n\t\t\t\t\t\tlet subHtml3 = '';\n\t\t\t\t\t\tfor (let j = 0; j < NO_OF_DATATYPES; j++) {\n\t\t\t\t\t\t\tconst datatype = DATASETS.datatypes.datatype(starId, j, index);\n\t\t\t\t\t\t\tsubHtml3 +=\n\t\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t\t_html('td', _htmlAnchor(datatype, datatype)));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t})())\n\t\t\t\t);\n\t\t\treturn subHtml2;\n\t\t})())\n\t);\n\treturn html;\n};\n\n\n// ソート\nexport const _sort = (kindOfSorting, isAscend) => {\n\tlet i, value, target, mapper = [], functionName, sortedIds = [];\n\tconst ids = __g.app.datasets.ids();\n\t\n\tswitch (kindOfSorting) {\n\t\t\n\t\tcase 'Alphabetical': { // アルファベティカル\n\t\t\tfor (const id of ids) {\n\t\t\t\tvalue = __g.app.datasets.title(id)[__g.app.language];\n\t\t\t\tmapper.push({ id: id, value: value });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\tif (a.value < b.value) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tbreak;\n\t\t\n\t\tcase 'DataProvider': { // Data provider\n\t\t\tfor (const id of ids) {\n\t\t\t\tvalue = __g.app.datasets.dataProvider(id)[__g.app.language];\n\t\t\t\tmapper.push({ id: id, value: value });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\tif (a.value < b.value) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tbreak;\n\t\t\n\t\tcase 'LastUpdate': { // 更新日順\n\t\t\tfor (const id of ids) {\n\t\t\t\tconst date = __g.app.datasets.issued(id).split('-');\n\t\t\t\tvalue = (new Date(date[0], date[1], date[2])).getTime();\n\t\t\t\tmapper.push({ id: id, value: value });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\treturn b.value - a.value;\n\t\t\t});\n\t\t}\n\t\tbreak;\n\n\t\tdefault: { // その他の数量系のソート\n\t\t\tswitch (kindOfSorting) {\n\t\t\t\tcase 'Classes': functionName = 'noOfClasses'; break;\n\t\t\t\tcase 'Instances': functionName = 'noOfInstances'; break;\n\t\t\t\tcase 'Literals': functionName = 'noOfLiterals'; break;\n\t\t\t\tcase 'Objects': functionName = 'noOfObjects'; break;\n\t\t\t\tcase 'Properties': functionName = 'noOfProperties'; break;\n\t\t\t\tcase 'Subjects': functionName = 'noOfSubjects'; break;\n\t\t\t\tcase 'Triples': functionName = 'noOfTriples'; break;\n\t\t\t\tcase 'Links': functionName = 'noOfLinks'; break;\n\t\t\t}\n\t\t\tif (typeof functionName === 'string') {\n\t\t\t\ttarget = __g.app.datasets[functionName];\n\t\t\t} else {\n\t\t\t\ttarget = __g.app.datasets[functionName[0]][functionName[1]];\n\t\t\t}\n\t\t\tfor (const id of ids) {\n\t\t\t\tmapper.push({ id: id, value: target(id) });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\treturn b.value - a.value;\n\t\t\t});\n\t\t}\n\t\tbreak;\n\n\t}\n\t// 昇順降順\n\tif (isAscend) {\n\t\tfor (i = 0; i < mapper.length; i++) {\n\t\t\tsortedIds.push(mapper[i].id);\n\t\t}\n\t} else {\n\t\tfor (i = mapper.length - 1; i >= 0; i--) {\n\t\t\tsortedIds.push(mapper[i].id);\n\t\t}\n\t}\n\n\treturn sortedIds;\n}; // function sort\n\n// その他の汎用関数\nexport const _sanitizeTag = tag => tag.replace(/\\W+/g, '_');\n\nexport const _placeComma = elm => {\n\t$(elm).find('span.numeral').each(function(){\n\t\tthis.textContent = this.textContent.replace( /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\n\t\tthis.classList.remove('numeral');\n\t\tthis.classList.add('numeral-comma');\n\t});\n};\nexport const _capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n","/*global $ */\n\nimport {__g} from './global.js';\nconst\n\t_CORN = {\n\t\tNUMBER_OF_LINE: 2,\n\t\tORIGIN: {\n\t\t\tX: 610 + 115,\n\t\t\tY: 1210\n\t\t},\n\t\tELLIPSE: {\n\t\t\tPOSITIONS: [ 293, 558, 876 ],\n\t\t\tRATIO: 0.1131,\n\t\t\tRESOLUTION: 64\n\t\t},\n\t\tRADIUS: 532\n\t},\n\tSHOW_DURATION = 900;\n\n/* Home view manager class\n * ホームビュー管理クラス\n * \n */\nexport default class HomeViewController {\n\n\tconstructor() {\n\t\tthis._isInitialized = false;\n\t\tthis._d3Corn;\n\t\tthis.$view = $('#home-view');\n\t}\n\n\tshow() {\n\t\tvar i, j, y, radian1, radian2, radian3, radius;\n\n\t\t// corn\n\t\tif (!this._isInitialized) {\n\t\t\tthis._isInitialized = true;\n\t\t\tthis._d3Corn = __g.d3.svg.append('g').attr('class', 'corn');\n\n\t\t\t// line\n\t\t\tradian1 = (2 * Math.PI) / _CORN.NUMBER_OF_LINE;\n\t\t\tfor (i = 0; i < _CORN.NUMBER_OF_LINE; i++) {\n\t\t\t\tradian2 = radian1 * i;\n\t\t\t\tthis._d3Corn.append('line')\n\t\t\t\t\t.attr('x1', _CORN.ORIGIN.X)\n\t\t\t\t\t.attr('y1', _CORN.ORIGIN.Y)\n\t\t\t\t\t.attr('x2', _CORN.ORIGIN.X + _CORN.RADIUS * Math.cos(radian2))\n\t\t\t\t\t.attr('y2', 0)\n\t\t\t\t\t.attr('stroke', 'rgba(255, 255, 255, ' + ((Math.sin(radian2 + Math.PI) + 1) * 0.25) + ')');\n\t\t\t}\n\n\t\t\t// ellipse\n\t\t\tradian1 = (2 * Math.PI) / _CORN.ELLIPSE.RESOLUTION;\n\t\t\tfor (i = 0; i < _CORN.ELLIPSE.POSITIONS.length; i++) {\n\t\t\t\ty = _CORN.ELLIPSE.POSITIONS[i];\n\t\t\t\tradius = (y / _CORN.ORIGIN.Y) * _CORN.RADIUS;\n\t\t\t\tfor (j = 0; j < _CORN.ELLIPSE.RESOLUTION; j++) {\n\t\t\t\t\tradian2 = radian1 * j;\n\t\t\t\t\tradian3 = radian2 + radian1;\n\t\t\t\t\tthis._d3Corn.append('line')\n\t\t\t\t\t\t.attr('x1', _CORN.ORIGIN.X + Math.cos(radian2) * radius)\n\t\t\t\t\t\t.attr('y1', _CORN.ORIGIN.Y - y + Math.sin(radian2) * radius * _CORN.ELLIPSE.RATIO)\n\t\t\t\t\t\t.attr('x2', _CORN.ORIGIN.X + Math.cos(radian3) * radius)\n\t\t\t\t\t\t.attr('y2', _CORN.ORIGIN.Y - y + Math.sin(radian3) * radius * _CORN.ELLIPSE.RATIO)\n\t\t\t\t\t\t.attr('stroke', 'rgba(255, 255, 255, ' + ( 0.1 + (Math.sin((radian2 + radian3) * 0.5) + 1) * 0.25 ) + ')');\n\t\t\t\t\t\t//.attr('stroke', '#fff');\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$view.find('.node').on('click', function(){\n\t\t\t\t$('#' + this.getAttribute('data-target')).trigger('click');\n\t\t\t});\n\n\t\t\t// statistics\n\t\t\tlet html = '';\n\t\t\t// Datasets\n\t\t\thtml += `<p>${__g.app.datasets.ids().length}<span>RDF datasets</span></p>`;\n\t\t\tconst\n\t\t\t\tstatisticsItems = {\n\t\t\t\t\tnoOfLinks: 0,\n\t\t\t\t\tnoOfTriples: 0\n\t\t\t\t},\n\t\t\t\tids = __g.app.datasets.ids();\n\t\t\tfor (const id of ids) {\n\t\t\t\tfor (const item in statisticsItems) {\n\t\t\t\t\tstatisticsItems[item] += __g.app.datasets[item](id);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const item in statisticsItems) {\n\t\t\t\tconst\n\t\t\t\t\tsampleString = (statisticsItems[item] + ''),\n\t\t\t\t\tfigure = Math.ceil(sampleString.length / 3);\n\n\t\t\t\tlet processedNumber;\n\t\t\t\tswitch (true) {\n\t\t\t\t\tcase figure === 2:\n\t\t\t\t\tprocessedNumber = Math.round( statisticsItems[item] * 0.001 ) + '<span> million @@unit@@</span>';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase figure === 3:\n\t\t\t\t\tprocessedNumber = Math.round( statisticsItems[item] * 0.000001 ) + '<span> billion @@unit@@</span>';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase figure === 4:\n\t\t\t\t\tprocessedNumber = Math.round( statisticsItems[item] * 0.000000001 ) + '<span> trillion @@unit@@</span>';\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\tprocessedNumber = roundedString.toLocaleString();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\thtml += `<p>${processedNumber.replace('@@unit@@', { noOfTriples: 'triples', noOfLinks: 'inter-datasets links' }[item])}</p>`;\n\t\t\t}\n\t\t\t$('#home-statistics').append(html);\n\t\t}\n\t\t\n\t\t// force\n\t\t__g.d3.force\n\t\t\t//.gravity(0.001)\n\t\t\t.on('tick', function() {\n\t\t\t\t__g.d3.linksSelection\n\t\t\t\t\t.attr('x1', function(d) { return d.source.x; })\n\t\t\t\t\t.attr('y1', function(d) { return d.source.y; })\n\t\t\t\t\t.attr('x2', function(d) { return d.target.x; })\n\t\t\t\t\t.attr('y2', function(d) { return d.target.y; });\n\t\t\t\t__g.d3.nodesSelection\n\t\t\t\t\t.style('left', function(d) { return (d.x + __g.SVG_MARGIN_LEFT) + 'px'; })\n\t\t\t\t\t.style('top', function(d) { return d.y + 'px'; });\n\t\t\t\t})\n\t\t\t.stop();\n\n\t\t// shown\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('home'), this.$view.innerHeight());\n\t\t}.bind(this), SHOW_DURATION);\n\t}\n\n\thide() {\n\t\t//window.clearInterval(_timerId);\n\t\t__g.d3.force\n\t\t\t.stop()\n\t\t\t.on('tick', null);\n\t}\n} // ********** end of HomeViewController class\n","/* global $ */\n\nimport {$w, __g, _sort, _placeComma} from './global.js';\nconst\n\tSHOW_DURATION = 100,\n\tORIGIN = {\n\t\tX: 339,\n\t\tY: 27\n\t};\n\n/* List view manager class\n * リストビュー管理クラス\n * \n */\nexport default class ListViewController {\n\n\tconstructor() {\n\t\tthis._placedStarCoutner;\n\t\tthis.$stars = undefined;\n\t}\n\n\tshow() {\n\t\twindow.setTimeout(() => {\n\t\t\tthis.makeList();\n\t\t}, SHOW_DURATION);\n\t}\n\n\tmakeList() {\n\t\tvar sortedIds;\n\n\t\t// イベントのバインド\n\t\t__g.app.addNotificationObserver('change-sorting', this, this.receiveNotificationChangeSorting);\n\t\t__g.app.addNotificationObserver('change-provided-as', this, this.receiveNotificationChangeFilter);\n\t\t__g.app.addNotificationObserver('change-filtering-tags', this, this.receiveNotificationChangeFilter);\n\n\t\t// ソート\n\t\tsortedIds = _sort(\n\t\t\t__g.controlPanel.kindOfSorting(), \n\t\t\t__g.controlPanel.isAscend()\n\t\t);\n\n\t\t// サイズ種別を取得し各ノードに通知、レイアウトを行う\n\t\tthis.placeStars(sortedIds);\n\n\t\t// ウインドウリサイズで星の矩形のリサイズ\n\t\tif (!this.$stars) {\n\t\t\tthis.$stars = $('.star', __g.app.$main).not('.xref');\n\t\t}\n\t\t$w\n\t\t\t.on('resize.listView', () => {\n\t\t\t\tthis.$stars.css('width', __g.app.$main.width() - ORIGIN.X - 20);\n\t\t\t})\n\t\t\t.triggerHandler('resize.listView');\n\t}\n\n\t// 星の位置取りを行う\n\tplaceStars(sortedIds){\n\t\tvar i, top = ORIGIN.Y, height;\n\t\tthis._placedStarCoutner = 0;\n\t\t// 各ノードに通知\n\t\tfor (i = 0; i < sortedIds.length; i++) {\n\t\t\theight = __g.app.starsWithKeys[sortedIds[i]].prepareListView(this._placedStarCoutner, top, this);\n\t\t\tif (height !== 0) {\n\t\t\t\ttop += height;\n\t\t\t\tthis._placedStarCoutner++;\n\t\t\t}\n\t\t}\n\t\t_placeComma(__g.app.$main.find('.detail-view'));\n\t} // function placeStars\n\n\tplacedStar() {\n\t\tif (--this._placedStarCoutner === 0) {\n\t\t\t// 遷移終了\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('datasets'));\n\t\t}\n\t}\n\n\thide() {\n\t\t__g.app.$main.find().remove();\n\t\t$w.off('resize.listView');\n\t\tthis.$stars.css('width', '');\n\t\t__g.app.removeNotificationObserver('change-sorting', this);\n\t\t__g.app.removeNotificationObserver('change-scaling', this);\n\t\tfor (var i = 0; i < __g.app.stars.length; i++) {\n\t\t\t__g.app.stars[i].prepareLeaveFromListView();\n\t\t}\n\t}\n\n\t// ソート種別の変更が行われたときに呼ばれる関数\n\treceiveNotificationChangeSorting(){\n\t\tvar sortedIds = _sort(\n\t\t\t__g.controlPanel.kindOfSorting(), \n\t\t\t__g.controlPanel.isAscend()\n\t\t);\n\t\tthis.placeStars(sortedIds);\n\t} // function receiveNotificationChangeSorting\n\treceiveNotificationChangeFilter(){\n\t\tvar sortedIds = _sort(\n\t\t\t__g.controlPanel.kindOfSorting(), \n\t\t\t__g.controlPanel.isAscend()\n\t\t);\n\t\tthis.placeStars(sortedIds);\n\t} // function receiveNotificationChangeFilter\n\n  static get ORIGIN() {\n    return ORIGIN;\n  }\n\n} // ********** end of ListViewController class\n","import {_html, _MLHtml, _numeral} from './global.js';\nimport {ORIGIN, CELL} from './MatrixViewController.js';\n\n/* Matrix item view manager class\n * マトリックスビューの各項ビュー\n * \n */\nexport default class MatrixItemView {\n\n\tconstructor(colItem, order, delegate) {\n\n\t\tswitch(colItem.name) {\n\n\t\t\tcase 'Alphabetical':\n\t\t\t\t// make cells\n\t\t\t\tdelegate._$matrix.append(\n\t\t\t\t\t_html(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\tclass: 'cell item-' + colItem.name,\n\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t'data-ascend': colItem.isAscend ? 'ascend' : 'descend' },\n\t\t\t\t\t\t_MLHtml(delegate.STR.name) + '<div class=\"sorter\"></div>'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tbreak;\n\n\t\t\tcase 'Triples':\n\t\t\tcase 'Links':\n\t\t\tcase 'Classes':\n\t\t\tcase 'Instances':\n\t\t\tcase 'Literals':\n\t\t\tcase 'Subjects':\n\t\t\tcase 'Properties':\n\t\t\tcase 'Objects':{\n\t\t\t\t// make cells\n\t\t\t\tdelegate._$head.append(\n\t\t\t\t\t_html(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\tclass: 'cell item-' + colItem.name,\n\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t'data-ascend': colItem.isAscend ? 'ascend' : 'descend' },\n\t\t\t\t\t\t_MLHtml(delegate.STR['numberOf' + colItem.name]) + '<div class=\"sorter\"></div>'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tdelegate._$body.append((() => {\n\t\t\t\t\tlet html = '',\n\t\t\t\t\t\t\tsum = 0;\n\t\t\t\t\tfor (let i = 0; i < delegate._sortedIds.length; i++) {\n\t\t\t\t\t\tconst value = delegate.datasets[ 'noOf' + colItem.name ]( delegate._sortedIds[i] );\n\t\t\t\t\t\tsum += value;\n\t\t\t\t\t\thtml += _html(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{\tclass: `cell item-${colItem.name} id-${delegate._sortedIds[i]}`,\n\t\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t\t'data-id': delegate._sortedIds[i] },\n\t\t\t\t\t\t\t_numeral(value)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\thtml += _html(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\tclass: `cell item-${colItem.name} id-sum`,\n\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t'data-id': 'sum' },\n\t\t\t\t\t\t_numeral(sum)\n\t\t\t\t\t);\n\t\t\t\t\t// line\n\t\t\t\t\treturn html;\n\t\t\t\t})());\n\t\t\t\t// layout\n\t\t\t\tconst left = ORIGIN.X + CELL.WIDTH * (order - 1);\n\t\t\t\tdelegate._$head.find('.item-' + colItem.name).css('left', left);\n\t\t\t\tdelegate._$body.find('.item-' + colItem.name).css('left', left);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t}\n\t}\n\n} // ********** end of MatrixItemView class\n","import {$w} from './global.js';\n\n/* Matrix item view manager class\n * マトリックスビューの各項ビュー\n * \n */\nexport default class MatrixScrollbarView {\n\n\tconstructor(delegate) {\n\t\tthis._delegate = delegate;\n\t\tthis._matrixWidth;\n\t\tthis._widthRatio;\n\t\tthis._scrollBarWidth;\n\t\tthis._delegate._$matrix.append('<div id=\"matrix-scroll-area\"></div><div id=\"matrix-scroll-bar\"></div>');\n\t\tthis._$scrollArea = this._delegate._$matrix.children('#matrix-scroll-area');\n\t\tthis._$scrollBar = this._delegate._$matrix.children('#matrix-scroll-bar');\n\t\tthis._$scrollBar.draggable({\n\t\t\taxis: 'x',\n\t\t\tcontainment: this._$scrollArea,\n\t\t\tdrag: (event, obj) => {\n\t\t\t\tvar left = obj.position.left - this._delegate._$inner.offset().left,\n\t\t\t\t\t\trange = this._matrixWidth - this._scrollBarWidth;\n\t\t\t\tthis._delegate._$inner.scrollLeft((this._delegate._matrixOverallWidth - this._matrixWidth) * (left / range));\n\t\t\t}\n\t\t});\n\t}\n\n\tenable() {\n\t\t// events\n\t\t$w\n\t\t\t.on({ // 領域定義\n\t\t\t\t'resize.matrix': () => {\n\t\t\t\t\tvar innerWidth = $w.innerWidth(),\n\t\t\t\t\t\t\tmatrixHeight = $w.innerHeight() - this._delegate._$matrix.offset().top;\n\t\t\t\t\tthis._matrixWidth = innerWidth - this._delegate._$matrix.offset().left;\n\t\t\t\t\tthis._widthRatio = this._matrixWidth / this._delegate._matrixOverallWidth;\n\t\t\t\t\tthis._scrollBarWidth = this._matrixWidth * this._widthRatio;\n\t\t\t\t\tthis._delegate._$matrix.css({\n\t\t\t\t\t\twidth: this._matrixWidth,\n\t\t\t\t\t\theight: matrixHeight > this._delegate._matrixOverallHeight ? matrixHeight : this._delegate._matrixOverallHeight\n\t\t\t\t\t});\n\t\t\t\t\tif (this._matrixWidth < this._delegate._matrixOverallWidth) {\n\t\t\t\t\t\tthis._$scrollArea.css({\n\t\t\t\t\t\t\twidth: this._matrixWidth,\n\t\t\t\t\t\t\theight: matrixHeight\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._$scrollBar.css({\n\t\t\t\t\t\t\twidth: this._scrollBarWidth,\n\t\t\t\t\t\t\tbottom: 42,\n\t\t\t\t\t\t\ttop: 'auto',\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._$scrollBar.css({\n\t\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.trigger('resize.matrix');\n\t\tthis._delegate._$inner\n\t\t\t.on({\n\t\t\t\t'scroll.matrix': () => {\n\t\t\t\t\tthis._$scrollBar.css({\n\t\t\t\t\t\tleft: this._delegate._$inner.offset().left + this._delegate._$inner.scrollLeft() * this._widthRatio\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.trigger('scroll.matrix');\n\t\tthis._$scrollBar.draggable('enable');\n\t}\n\n\tdisable() {\n\t\tthis._delegate._$inner.off('scroll.matrix');\n\t\t$w.off('resize.matrix');\n\t\tthis._$scrollBar.draggable('disable');\n\t}\t\n\n\n} // ********** end of MatrixScrollbarView class\n","/* global $ */\n\nimport {__g, _placeComma, _sort} from './global.js';\nimport MatrixItemView from './MatrixItemView.js';\nimport MatrixScrollbarView from './MatrixScrollbarView.js';\n\nexport const\n\tORIGIN = {\n\t\tX: 0,\n\t\tY: 127\n\t},\n\tCELL = {\n\t\tWIDTH: 120,\n\t\tHEIGHT: 32\n\t},\n\tPADDING_BOTTOM = 60,\n\tPADDING_RIGHT = 60;\n\n/* Matrix view manager class\n * マトリックスビュー管理クラス\n * \n */\nexport default class MatrixViewController {\n\n\tconstructor() {\n\t\t//var self = this;\n\t\tthis.STR = __g.STRINGS;\n\t\tthis.datasets = __g.app.datasets;\n\t\tthis._isInitialized = false;\n\t\tthis._sortBy;\n\t\tthis._sortedColItems;\n\t\tthis._sortedIds;\n\t\t//this._itemKeys;\n\t\tthis._scrollBar;\n\t\tthis._matrixOverallWidth = 0;\n\t\tthis._matrixOverallHeight;\n\t\tthis._placedStarCoutner;\n\t\tthis._$matrix;\n\t\tthis._$inner;\n\t\tthis._$head;\n\t\tthis._$colItems;\n\t\tthis._$body;\n\t}\n\n\n\tshow() {\n\t\tif (!this._isInitialized) {\n\t\t\tthis._isInitialized = true;\n\t\t\tthis._sortedColItems = [];\n\t\t\t//this._itemKeys = {};\n\n\t\t\t// ソート\n\t\t\tthis._sortBy = __g.userDefaults.matrix.sortBy;\n\t\t\tthis._sortedIds = _sort(this._sortBy, true);\n\n\t\t\t// キーのソート\n\t\t\tthis._sortedColItems = __g.userDefaults.matrix.colItems;\n\n\t\t\t// 表組みの作成\n\t\t\tthis.makeMatrix();\n\t\t\t\n\t\t\t// scroll bar\n\t\t\tthis._scrollBar = new MatrixScrollbarView(this);\n\t\t}\n\n\t\t// event\n\t\t__g.app.$star.on({\n\t\t\t'mouseenter.matrix': e => {\n\t\t\t\tthis._$body.children('.id-' + e.delegateTarget.getAttribute('data-id')).addClass('row-selected');\n\t\t\t},\n\t\t\t'mouseleave.matrix': e => {\n\t\t\t\tthis._$body.children('.id-' + e.delegateTarget.getAttribute('data-id')).removeClass('row-selected');\n\t\t\t}\n\t\t});\n\n\t\t// ノードに通知\n\t\tthis._placedStarCoutner = 0;\n\t\tfor (let i = 0; i < this._sortedIds.length; i++) {\n\t\t\tconst id = this._sortedIds[i];\n\t\t\t__g.app.starsWithKeys[id].prepareMatrixView(i, this);\n\t\t\tthis._placedStarCoutner++;\n\t\t}\n\t}\n\n\tmakeMatrix() {\n\t\tvar i, html = '',\n\t\t\t\tids = this.datasets.ids();\n\t\t// html\n\t\thtml += `\n\t\t\t<div id=\"matrix\">\n\t\t\t\t<div class=\"inner\">\n\t\t\t\t\t<header></header>\n\t\t\t\t\t<div id=\"matrix-body\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\t__g.app.$main.append(html);\n\t\tthis._matrixOverallHeight = ORIGIN.Y + ids.length * CELL.HEIGHT + PADDING_BOTTOM;\n\t\tthis._$matrix = $('#matrix').css('height', this._matrixOverallHeight);\n\t\tthis._$inner = this._$matrix.children('.inner');\n\t\tthis._$head = this._$inner.children('header');\n\t\tthis._$body = $('#matrix-body');\n\n\t\t// セルオブジェクト生成\n\t\tfor (i = 0; i < this._sortedColItems.length; i++) {\n\t\t\t//this._itemKeys[this._sortedColItems[i]] = new MatrixItemView(this._sortedColItems[i], i, this);\n\t\t\tnew MatrixItemView(this._sortedColItems[i], i, this);\n\t\t\tthis._matrixOverallWidth += CELL.WIDTH;\n\t\t}\n\t\tthis._matrixOverallWidth -= CELL.WIDTH; // aphabetical分をデクリメント\n\t\tthis._$colItems = this._$matrix.find('div.cell.item-Alphabetical, div.inner header div.cell');\n\t\t// 合計値\n\t\tconst height = ORIGIN.Y + ids.length * CELL.HEIGHT;\n\t\tthis._$body.find('.id-sum').css('top', height);\n\t\t// padding\n\t\tthis._$inner.append(`\n\t\t\t<div id=\"matrix-right\" style=\"left: ${ORIGIN.X + this._matrixOverallWidth}px;\"></div>\n\t\t`);\n\t\tthis._$matrix.append(`\n\t\t\t<div class=\"matrix-sum\" style=\"top: ${height}px;\">\n\t\t\t\t<p lang=\"ja\">合計</p>\n\t\t\t\t<p lang=\"en\">Total</p>\n\t\t\t</div>\n\t\t\t<div id=\"matrix-bottom\" style=\"top: ${height + CELL.HEIGHT}px; width: ${this._matrixOverallWidth + PADDING_RIGHT}px;\"></div>\n\t\t`);\n\t\tthis._matrixOverallWidth += PADDING_RIGHT;\n\n\t\t// comma\n\t\t_placeComma(this._$body);\n\n\t\t// events\n\t\t// sort\n\t\tthis._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`).addClass('selected');\n\t\tthis._$colItems.on('click', (e) => {\n\t\t\tlet $cell;\n\t\t\tif (e.delegateTarget.classList.contains('selected')) {\n\t\t\t\t$cell = this._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`);\n\t\t\t\t$cell.data('ascend', $cell.data('ascend') === 'ascend' ? 'descend' : 'ascend');\n\t\t\t} else {\n\t\t\t\t// 現在選択中のセルを解除\n\t\t\t\tthis._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`).removeClass('selected');\n\t\t\t\t// セルの選択\n\t\t\t\tthis._sortBy = e.delegateTarget.getAttribute('data-sort');\n\t\t\t\t$cell = this._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`).addClass('selected');\n\t\t\t}\n\t\t\t// ソートの実行\n\t\t\tthis.sort($cell.data('sort'), $cell.data('ascend') === 'ascend');\n\t\t});\n\t\t// cell hover\n\t\tthis._$body.children('div.cell').on({ // body cell\n\t\t\tmouseenter: (e) => {\n\t\t\t\tconst\n\t\t\t\t\tsort = e.delegateTarget.dataset.sort,\n\t\t\t\t\tid = e.delegateTarget.dataset.id;\n\t\t\t\tthis._$body.children(`.item-${sort}`).addClass('col-selected');\n\t\t\t\tthis._$head.children(`.item-${sort}`).addClass('col-selected');\n\t\t\t\tthis._$body.children(`.id-${id}`).addClass('row-selected');\n\t\t\t\t__g.app.$star.filter(`[data-id=\"${e.delegateTarget.getAttribute('data-id')}\"]`).addClass('row-selected');\n\t\t\t},\n\t\t\tmouseleave: (e) => {\n\t\t\t\tconst\n\t\t\t\t\tsort = e.delegateTarget.dataset.sort,\n\t\t\t\t\tid = e.delegateTarget.dataset.id;\n\t\t\t\tthis._$body.children(`.item-${sort}`).removeClass('col-selected');\n\t\t\t\tthis._$head.children(`.item-${sort}`).removeClass('col-selected');\n\t\t\t\tthis._$body.children(`.id-${id}`).removeClass('row-selected');\n\t\t\t\t__g.app.$star.filter(`[data-id=\"${e.delegateTarget.getAttribute('data-id')}\"]`).removeClass('row-selected');\n\t\t\t}\n\t\t});\n\t\tthis._$head.children('div.cell').on({ // header cell\n\t\t\tmouseenter: (e) => {\n\t\t\t\tthis._$body.children('.item-' + e.delegateTarget.getAttribute('data-sort')).addClass('col-selected');\n\t\t\t},\n\t\t\tmouseleave: (e) => {\n\t\t\t\tthis._$body.children('.item-' + e.delegateTarget.getAttribute('data-sort')).removeClass('col-selected');\n\t\t\t}\n\t\t});\n\t\tthis._$matrix.find('div.item-Alphabetical').on({\n\t\t\tmouseenter: () => {\n\t\t\t\t__g.app.$star.addClass('row-selected');\n\t\t\t},\n\t\t\tmouseleave: () => {\n\t\t\t\t__g.app.$star.removeClass('row-selected');\n\t\t\t}\n\t\t});\n\t\t// alphabetical\n\t}\n\n\tplacedStar() {\n\t\tif (--this._placedStarCoutner === 0) {\n\t\t\t// 遷移終了\n\t\t\tthis._$matrix.addClass('placed');\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('statistics'));\n\n\t\t\t// scroll bar\n\t\t\tthis._scrollBar.enable();\n\t\t}\n\t}\n\n\tsort(itemName, isAscend) {\n\t\tthis._sortBy = itemName;\n\t\tthis._sortedIds = _sort(this._sortBy, isAscend);\n\t\tfor (let i = 0; i < this._sortedIds.length; i++) {\n\t\t\tconst id = this._sortedIds[i];\n\t\t\t__g.app.starsWithKeys[id].matrixReplace(i);\n\t\t}\n\t\t// userDefaults\n\t\tthis._sortedColItems.forEach(item => {\n\t\t\tif (item.name === itemName) {\n\t\t\t\titem.isAscend = isAscend;\n\t\t\t}\n\t\t});\n\t\t__g.userDefaults.matrix.sortBy = this._sortBy;\n\t\t__g.userDefaults.matrix.colItems = this._sortedColItems;\n\t}\n\n\thide() {\n\t\tthis._scrollBar.disable();\n\t\t__g.app.$stars.children('.star').removeClass('row-selected');\n\t\t__g.app.$star.off('mouseenter.matrix mouseleave.matrix');\n\t\t//this._scrollBar = null;\n\t}\n\n  static get ORIGIN() {\n    return ORIGIN;\n  }\n  static get CELL() {\n    return CELL;\n  }\n\n} // ********** end of MatrixViewController class\n","/* global d3 */\n\nimport {$w, __g} from './global.js';\n\n/* Graph view manager class\n * グラフビュー管理クラス\n * \n */\nexport default class GraphViewController {\n\n\tconstructor() {\n\t}\n\n\tshow() {\n\t\tthis.receiveNotificationChangeSizing();\n\t\t// tick\n\t\t__g.d3.force\n\t\t\t.on('tick', () => {\n\t\t\t\t__g.d3.linksSelection\n\t\t\t\t\t.attr('x1', d => d.source.x)\n\t\t\t\t\t.attr('y1', d => d.source.y)\n\t\t\t\t\t.attr('x2', d => d.target.x)\n\t\t\t\t\t.attr('y2', d => d.target.y);\n\t\t\t\t__g.d3.nodesSelection\n\t\t\t\t\t.style('left', d => (d.x + __g.SVG_MARGIN_LEFT) + 'px')\n\t\t\t\t\t.style('top', d => d.y + 'px');\n\t\t\t\t__g.d3.linksSelection.each(function(){ // number of triples\n\t\t\t\t\tthis.d3NumberOfTriples\n\t\t\t\t\t\t.attr('x', (parseFloat(this.getAttribute('x1')) + parseFloat(this.getAttribute('x2'))) * 0.5)\n\t\t\t\t\t\t.attr('y', (parseFloat(this.getAttribute('y1')) + parseFloat(this.getAttribute('y2'))) * 0.5 + 3);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.restart();\n\t\t$w.trigger('resize.mainViewControl');\n\n\t\t// イベントのバインド\n\t\t__g.app.addNotificationObserver('change-scaling', this, this.receiveNotificationChangeSizing);\n\t\t\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareGraphView();\n\t\t});\n\n\t\t// 遷移終了\t\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('network'));\n\t\t}, 100);\n\t}\n\n\thide() {\n\t\t__g.d3.force\n\t\t\t.stop()\n\t\t\t.on('tick', null);\n\t\t__g.app.removeNotificationObserver('change-scaling', this);\n\t\t__g.app.stars.forEach(star => {\n\t\t\tstar.prepareLeaveFromGraphView();\n\t\t});\n\t}\n\n\treceiveNotificationChangeSizing(){\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareGraphView();\n\t\t});\n\t\t__g.d3.force\n\t\t\t\t.force('collide', // ノード間の接触反発力\n\t\t\t\t\td3.forceCollide()\n\t\t\t\t\t\t.radius(function(d) { return d.star.size * .5 + 20; }) // ノード半径\n\t\t\t\t\t\t.strength(1.0) // オーバーラップするノード間の反発力 0.0〜1.0\n\t\t\t\t\t\t.iterations(16) // 計算回数\n\t\t\t\t)\n\t\t\t\t.restart();\n\t} // function receiveNotificationChangeSizing\n\t\n} // ********** end of GraphViewController class\n","/* global $, marked, CodeMirror */\n\nimport {__g} from './global.js';\n\nconst PATH = './documents/';\n\n/* Manual view manager class\n * マニュアルビュー管理クラス\n * \n */\nexport default class ManualViewController {\n\n\tconstructor() {\n\t\tthis.$view = $('#manual-view');\n\t}\n\n\tshow(params) {\n\t\tconst documentName = params ? params.id : 'top';\n\t\t$.when( // Documents の内容が記述されたMarkDownファイルの読み込み\n\t\t\t$.ajax({\n\t\t\t\turl: `${PATH}${documentName}.en.md`,\n\t\t\t\tdataType: 'text'\n\t\t\t}),\n\t\t\t$.ajax({\n\t\t\t\turl: `${PATH}${documentName}.ja.md`,\n\t\t\t\tdataType: 'text'\n\t\t\t})\n\t\t).done((en, ja) => {\n\t\t\tconst contents = { en: en[0], ja: ja[0] };\n\t\t\tfor (const lang in contents) {\n\t\t\t\t// 各言語ごとの処理\n\t\t\t\tconst\n\t\t\t\t\tcontent = contents[lang],\n\t\t\t\t\thtmlText = marked(content)\n\t\t\t\t\t\t.replace(/<pre><code>/g, '<textarea>')\n\t\t\t\t\t\t.replace(/<\\/code><\\/pre>/g, '</textarea>'),\n\t\t\t\t\thtmlElements = $.parseHTML(htmlText),\n\t\t\t\t\t$container = this.$view.find(`.seciton-body[lang=\"${lang}\"]`);\n\t\t\t\t$container.html('');\n\t\t\t\tlet\n\t\t\t\t\tsection = document.createElement('section');\n\t\t\t\t// HTMLElement を回してレンダリング\n\t\t\t\t$(htmlElements).each((index, elm) => {\n\t\t\t\t\tif (elm.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\tif (0 < index && elm.tagName === 'H2') {\n\t\t\t\t\t\t\t// HTMLElement が大見出しの場合、パラグラフを切る\n\t\t\t\t\t\t\t$container.append(section);\n\t\t\t\t\t\t\tsection = document.createElement('section');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsection.appendChild(elm);\n\t\t\t\t\t}\n\t\t\t\t\t$container.append(section);\n\t\t\t\t});\n\t\t\t}\n\t\t\t// リンク\n\t\t\tthis.$view.find('.documents-index a').each((index, elm) => {\n\t\t\t\telm.href = `${__g.rootPath}documents/${elm.getAttribute('href')}`;\n\t\t\t})\n\t\t\t// CodeMirror\n\t\t\tthis.$view.find('textarea').each((index, elm) => {\n\t\t\t\tCodeMirror.fromTextArea(elm, {\n\t\t\t\t\tmode: 'application/sparql-query',\n\t\t\t\t\tmatchBrackets: true,\n\t\t\t\t\tlineNumbers: true\n\t\t\t\t});\n\t\t\t});\n\t\t\twindow.setTimeout(function(){\n\t\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('documents'));\n\t\t\t}, self.SHOW_DURATION);\n\t\t});\n\n\t\tthis.$view.addClass('shown');\n\t}\n\n\thide() {\n\t\tthis.$view.removeClass('shown');\n\t}\n\n} // ********** end of ManualViewController class\n","/* global $ */\nimport {__g} from './global.js';\n\n/* Guideline view manager class\n * ガイドラインビュー管理クラス\n * \n */\nexport default class GuidelineViewController {\n\n\tconstructor() {\n\n\t}\n\n\tshow() {\n\t\t$('#guideline-view').addClass('shown');\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('guideline'));\n\t\t}, self.SHOW_DURATION);\n\t}\n\thide() {\n\t\t$('#guideline-view').removeClass('shown');\n\t}\n\n} // ********** end of GuidelineViewController class\n","/* global $ */\n\nimport {__g} from './global.js';\n\nconst MAX = 5;\n\n/* Change log view manager class\n * 更新履歴ビュー管理クラス\n * \n */\nexport default class ChangeLogViewController {\n\n\tconstructor() {\n\t\tthis._isInitialized = false;\n\t\tthis._$ = $('#changelog-view');\n\n\t\t$.getJSON(__g.rootPath + 'change-log.json', (logJson) => {\n\t\t\tconst $homeChangeLogH2 = $('#home-change-log > h2');\n\t\t\tlet html = '';\n\t\t\tthis._changeLog = logJson.change_log;\n\t\t\tfor (let i = 0; i < Math.min(this._changeLog.length, MAX); i++) {\n\t\t\t\tconst log = this._changeLog[i];\n\t\t\t\thtml += `\n\t\t\t\t\t<dl data-index=\"${i}\">\n\t\t\t\t\t\t<dt>${log.date}</dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<span lang=\"en\">${log.title.en}</span>\n\t\t\t\t\t\t\t<span lang=\"ja\">${log.title.ja}</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>`;\n\t\t\t}\n\t\t\t$homeChangeLogH2.after(html);\n\t\t\t$('#home-change-log dl').on('click', (e) => {\n\t\t\t\t__g.app.changeView(__g.VIEWS.changeLog, { index: e.delegateTarget.dataset.index });\n\t\t\t});\n\t\t});\n\t}\n\n\tshow(params) {\n\t\tthis._$.addClass('shown');\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('changeLog'));\n\t\t}, 0);\n\t\tif (!this._isInitialized) {\n\t\t\tthis._isInitialized = true;\n\t\t\t// rendering\n\t\t\tlet html = '';\n\t\t\tfor (let i = 0; i < this._changeLog.length; i++) {\n\t\t\t\tconst log = this._changeLog[i];\n\t\t\t\thtml += `\n\t\t\t\t\t<article id=\"change-log${i}\">\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t<span lang=\"en\">${log.title.en}</span>\n\t\t\t\t\t\t\t\t<span lang=\"ja\">${log.title.ja}</span>\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<time>${log.date}</time>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<section class=\"seciton-body\" lang=\"en\">${log.article.en}</section>\n\t\t\t\t\t\t<section class=\"seciton-body\" lang=\"ja\">${log.article.ja}</section>\n\t\t\t\t\t</article>`;\n\t\t\t}\n\t\t\tthis._$.find('.seciton-body').append(html);\n\t\t}\n\t\t// scroll\n\t\tif (params) {\n\t\t\tconst $targetArticle = this._$.find(`#change-log${params.index}`);\n\t\t\tsetTimeout(function() {\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $targetArticle.offset().top\n\t\t\t\t}, {\n\t\t\t\t\tduration: 400\n\t\t\t\t})\n\t\t\t}, 200);\n\t\t}\n\t}\n\n\thide() {\n\t\tthis._$.removeClass('shown');\n\t}\n\n} // ********** end of ChangeLogViewController class\n","/* global $ */\n\nimport {__g} from './global.js';\n\nconst\n\tEXCLUSIVE_WORDS = ['of', 'and'],\n\tCANVAS_SIZE = 300,\n\tCANVAS_MARGIN = 0,\n\tFONT_SIZE = 100;\nlet\n\toffScreenCanvasContainer;\n\n/* Star image class\n * 星のロゴ画像生成クラス\n * @param _id String\n * @param _$container jQuery\n * \n */\nexport default class StarImage {\n\n\tconstructor(_id, _$container, _callback) {\n\t\tthis._id = _id;\n\t\tthis._callback = _callback;\n\t\tthis._logotypeUrl;\n\t\tthis._img;\n\t\tthis._bgColor;\n\t\tthis._$container = _$container;\n\t\tthis._$img;\n\t\t//this._$icon;\n\t\toffScreenCanvasContainer = offScreenCanvasContainer ? offScreenCanvasContainer : document.getElementById('offscreen-canvas-container');\n\n\t\tthis._logotypeUrl = __g.app.datasets.logotypeUrl(_id);\n\t\tif (this._logotypeUrl) {\n\t\t\t// ロゴあり\n\t\t\tthis._img = new Image();\n\t\t\tthis._img.src = this._logotypeUrl;\n\t\t\tif (this._img.complete) {\n\t\t\t\tthis.generateIconFromImg();\n\t\t\t} else {\n\t\t\t\tthis._img.onload = () => this.generateIconFromImg();\n\t\t\t\tthis._img.onerror = () => this.generateIconFromText();\n\t\t\t}\n\t\t} else {\n\t\t\t// ロゴ無し\n\t\t\tthis.generateIconFromText();\n\t\t}\n\t}\n\n\n\tgenerateCanvas() {\n\t\tvar canvas;\n\t\tcanvas = document.createElement('canvas'); \n\t\tcanvas.id = 'canvas' + (__g.canvasId++);\n\t\tcanvas.height = CANVAS_SIZE;\n\t\tcanvas.width = CANVAS_SIZE;\n\t\tcanvas.className = 'offscreen';\n\t\toffScreenCanvasContainer.appendChild(canvas);\n\t\treturn canvas;\n\t}\n\n\t// 頭字でアイコンを作る\n\tgenerateIconFromText() {\n\t\tvar title = __g.app.datasets.title(this._id).en,\n\t\t\t\ttitleWords = title.split(' '),\n\t\t\t\tacronym = '',\n\t\t\t\tfontSize = FONT_SIZE,\n\t\t\t\ttextMaxWidth = CANVAS_SIZE - CANVAS_MARGIN * 2,\n\t\t\t\tcanvas, ctx, metrics;\n\n\t\t// 頭字語の生成\n\t\ttitleWords.forEach(elm => acronym += (EXCLUSIVE_WORDS.indexOf(elm) === -1 ? elm.charAt(0) : ''));\n\t\tacronym = acronym.toUpperCase();\n\n\t\t// canvasでイメージの生成\n\t\tcanvas = this.generateCanvas();\n\t\tctx = canvas.getContext('2d');\n\t\tctx.fillStyle = 'white';\n\t\tctx.arc(CANVAS_SIZE / 2, CANVAS_SIZE / 2, CANVAS_SIZE / 2, 0, Math.PI * 2, true);\n\t\tctx.fill();\n\t\tctx.fillStyle = '#123456';\n\t\tctx.textAlign = 'center';\n\t\tctx.textBaseline = 'middle';\n\t\tctx.font = fontSize + 'px \"Lato\"';\n\t\tmetrics = ctx.measureText(acronym);\n\t\tif (textMaxWidth < metrics.width) {\n\t\t\tfontSize *= textMaxWidth / metrics.width;\n\t\t\tctx.font = fontSize + 'px \"Lato\"';\n\t\t}\n\t\tctx.fillText(acronym, CANVAS_SIZE / 2, CANVAS_SIZE / 2, CANVAS_SIZE);\n\t\tthis._logotypeUrl = canvas.toDataURL();\n\t\toffScreenCanvasContainer.removeChild(canvas);\n\t\tthis.generateIcon();\n\t}\n\n\t// 画像の読込完了\n\tgenerateIconFromImg() {\n\t\tvar canvas, ctx, dx, dy, dw, dh;\n\n\t\t// canvasでイメージの生成\n\t\tcanvas = this.generateCanvas();\n\t\tctx = canvas.getContext('2d');\n\t\tctx.beginPath();\n\t\tctx.arc(CANVAS_SIZE / 2, CANVAS_SIZE / 2, CANVAS_SIZE / 2, 0, Math.PI * 2, true);\n\t\tctx.clip();\n\t\tif (this._img.naturalWidth < this._img.naturalHeight) {\n\t\t\tdh = CANVAS_SIZE - CANVAS_MARGIN * 2;\n\t\t\tdw = this._img.naturalWidth * (dh / this._img.naturalHeight);\n\t\t\tdx = CANVAS_MARGIN + (dh - dw) * 0.5;\n\t\t\tdy = CANVAS_MARGIN;\n\t\t} else {\n\t\t\tdw = CANVAS_SIZE - CANVAS_MARGIN * 2;\n\t\t\tdh = this._img.naturalHeight * (dw / this._img.naturalWidth);\n\t\t\tdx = CANVAS_MARGIN;\n\t\t\tdy = CANVAS_MARGIN + (dw - dh) * 0.5;\n\t\t}\n\t\tctx.drawImage(this._img, dx, dy, dw, dh);\n\t\tthis._logotypeUrl = canvas.toDataURL();\n\t\toffScreenCanvasContainer.removeChild(canvas);\n\t\tthis.generateIcon();\n\t}\n\n\tgenerateIcon() {\n\t\t$('.icon', this._$container).append('<img data-adaptive-background=\"1\" src=\"' + this._logotypeUrl + '\">');\n\t\tthis._$img = $('img', this._$container);\n\t\tthis._$img\n\t\t\t.on('ab-color-found', function(e, payload){\n\t\t\t\tthis._bgColor = payload.color;\n\t\t\t\tthis._bgColor = this._bgColor === 'rgb()' ? 'rgb(255,255,255)' : this._bgColor;\n\t\t\t});\n\t\t// アプリにロゴ画像読込完了を通知\n\t\tif (typeof this._callback === 'function') {\n\t\t\tthis._callback();\n\t\t}\n\t}\n\n\n} // ********** end of Star image class\n","/* global $, CodeMirror */\n\nimport {$w, __g, _html, _htmlTR, _htmlTRDetail, _htmlTRValueNumeral, _htmlTRHasDetailValueNumeral2, _htmlAnchor, _htmlStatics, _htmlHasDetailAndDetail, _MLHtml, _MLAnchor, _placeComma, _sanitizeTag, _numeral} from './global.js';\nimport StarImage from './StarImage.js';\n\nconst\n\tORIGIN = {\n\t\tX: 113,\n\t\tY: 86\n\t},\n\tOFFSET = {\n\t\tX: -60,\n\t\tY: 0\n\t}\n\n/* Detail view manager class\n * 詳細ビュー管理クラス\n * \n */\nexport default class DetailViewController {\n\n\tconstructor() {\n\t\tthis._counter = 0;\n\t\tthis._$currentDetailView;\n\t\tthis._$frame;\n\n\t\t$('body').append('<div id=\"detail-view-frame\"><div class=\"inner\"></div></div>');\n\t\tthis._$frame = $('#detail-view-frame').children('.inner').on('animationend webkitAnimationEnd oAnimationEnd', function(e){\n\t\t\t//$(this).removeClass('frame-in frame-out');\n\t\t\t$(e.delegateTarget).removeClass('frame-in frame-out');\n\t\t});\n\t}\n\n\tshow() {\n\t\t$('body, html').animate({ scrollTop: 0 }, __g.DETAIL_DELAY, 'swing');\n\t\twindow.setTimeout(() => {\n\t\t\tthis.makeDetailView();\n\t\t}, __g.DETAIL_DELAY * 0.25);\n\t\tthis._$frame.addClass('frame-in');\n\t}\n\n\tmakeDetailView() {\n\n\t\tvar STR = __g.STRINGS,\n\t\t\t\tID_SPECIFICATION = 'detail-specification',\n\t\t\t\tID_CONNECTED_DATASETS = 'detail-connected-datasets',\n\t\t\t\tID_STATISTICS = 'detail-statistics',\n\t\t\t\tID_SCHEMA = 'detail-schema',\n\t\t\t\tID_SPARQL_EXAMPLES = 'detail-sparql-examples',\n\t\t\t\tID_STANZA = 'detail-stanzas',\n\t\t\t\thtml, i, j, width, $connectedDataset, $detailNavigationItems,\n\t\t\t\t_$schemaImages,\n\t\t\t\tdatasets = __g.app.datasets,\n\t\t\t\tstarId = __g.app.currentStarId,\n\t\t\t\t//starId = window.location.pathname.split('/').pop(),\n\t\t\t\tnoOfConnectedDatasets = datasets.connectedDatasetIds.noOf(starId) + datasets.xref.noOf(starId),\n\t\t\t\tnoOfSPARQLExamples = datasets.SPARQLExamples.noOf(starId),\n\t\t\t\tnoOfSchema = datasets.schema.noOf(starId),\n\t\t\t\t//noOfStanza = datasets.stanza.noOf(starId),\n\t\t\t\tnoOfStanza = 0, // スタンザは出力しないよう、一時的に0を代入\n\t\t\t\tdisposableStarIds = [],\n\t\t\t\tcmEditor, cmEditors = [];\n\n\t\t// スター（ノード）に通知\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareDetailView(starId);\n\t\t});\n\n\t\t// ディティールビューを生成\n\t\thtml = \n\t\t\t`<div id=\"detail-view${this._counter}\" class=\"detail-view\">` +\n\t\t\t\t_html('h2', _MLHtml(datasets.title(starId))) +\n\t\t\t\t`<p class=\"homepage\">${_MLAnchor(datasets.uri(starId), STR.launch)}</p>` +\n\t\t\t\t`<div class=\"description\">${_MLHtml(datasets.description(starId))}</div>` +\n\t\t\t\t_html('aside', { id: ID_SPECIFICATION, class: 'specification' }, // #### Specification\n\t\t\t\t\t_html( 'h3', _MLHtml(STR.specification) ) +\n\t\t\t\t\t_html('table', { class: 'horizontal-table' },\n\t\t\t\t\t\t_html('tbody', { class: 'specification' },\n\t\t\t\t\t\t\t_htmlTR(_MLHtml( STR.tags ), (function(){ // tags\n\t\t\t\t\t\t\t\tvar subHtml = '<ul class=\"tags\">', tag;\n\t\t\t\t\t\t\t\tfor (i = 0; i < datasets.tags.noOf(starId); i++) {\n\t\t\t\t\t\t\t\t\ttag = datasets.tags.tag(starId, i);\n\t\t\t\t\t\t\t\t\tsubHtml += `<li class=\"tag-${_sanitizeTag(tag.en)}\">${_MLHtml(tag)}</li>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubHtml += '</ul>';\n\t\t\t\t\t\t\t\treturn subHtml;\n\t\t\t\t\t\t\t})()) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.dataProvider ), _MLHtml(datasets.dataProvider(starId)) ) +\n\t\t\t\t\t\t\t_htmlTR(_MLHtml(STR.creators), (function(){\n\t\t\t\t\t\t\t\tvar numberOfCreators = datasets.creators.noOf(starId),\n\t\t\t\t\t\t\t\t\t\tsubHtml = '<ul>';\n\t\t\t\t\t\t\t\tfor (i = 0; i < numberOfCreators; i++) {\n\t\t\t\t\t\t\t\t\tsubHtml += `<li>${_MLHtml(datasets.creators.name(starId, i))}&nbsp;&nbsp;<small>${_MLHtml(datasets.creators.affiliation(starId, i))}</small></li>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn subHtml + '</ul>';\n\t\t\t\t\t\t\t})()) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.version ), datasets.version(starId) ) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.issued ), datasets.issued(starId) ) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.license ), _MLAnchor(datasets.license.uri(starId), datasets.license.name(starId) ) + '<br>' + _MLHtml( datasets.license.credit(starId) )) +\n\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.status ),\n\t\t\t\t\t\t\t\t`<div class=\"reviewed-icon${ datasets.reviewed(starId) === 'reviewed' ? '' : ' -unreviewed' }\"></div> <span>${ _MLHtml(datasets.reviewed(starId) === 'reviewed' ? STR.reviewed : STR.unreviewed) }</span>` +\n\t\t\t\t\t\t\t\t`<div class=\"star\" data-provided-as=\"${datasets.providedAs(starId)}\"><div class=\"icon\"><div class=\"body\"></div></div></div><span>${_MLHtml(datasets.providedAs(starId) === 'original' ? STR.originalDataset : STR.thirdPartyDataset)}</span>` ) +\n\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.downloadFile ),\n\t\t\t\t\t\t\t\t_html('p', { class: 'file' },\n\t\t\t\t\t\t\t\t\t_html('a', { href: datasets.downloadFile.uri(starId) }, datasets.downloadFile.name(starId)) + ' ' +\n\t\t\t\t\t\t\t\t\t_html('small', _numeral(datasets.downloadFile.size(starId)) + ' bytes')\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)/* + // ガイドライン一時的にコメントアウト\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.responseToRDFGuideline ),\n\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\tconst guideline = datasets.guideline(starId);\n\t\t\t\t\t\t\t\t\tif (!guideline) return '';\n\t\t\t\t\t\t\t\t\tlet numberOfApplied = 0, numberOfNA = 0, html = '<ul class=\"guidline-outline\">';\n\t\t\t\t\t\t\t\t\tfor (var i in guideline) {\n\t\t\t\t\t\t\t\t\t\tnumberOfApplied += guideline[i] === '1';\n\t\t\t\t\t\t\t\t\t\tnumberOfNA += guideline[i] === 'NA';\n\t\t\t\t\t\t\t\t\thtml += `<li class=\"status-${guideline[i]}\">${i}<div class=\"definition\">${__g.guideline[i]}</div></li>`;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thtml = `<div class=\"guideline-applied-bar\"><div style=\"width: ${numberOfApplied / (Object.keys(guideline).length - numberOfNA) * 100}%\"></div></div>${html}</ul>`;\n\t\t\t\t\t\t\t\t\treturn html.replace('status-?', 'status-question');\n\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t)*/\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) +\n\t\t\t\t(function(){ // #### 関連データセット\n\t\t\t\t\tvar subHtml1 = '';\n\t\t\t\t\tif (noOfConnectedDatasets > 0) {\n\t\t\t\t\t\t// 関連データセットのソート\n\t\t\t\t\t\tsubHtml1 += \n\t\t\t\t\t\t_html('aside', { id: ID_CONNECTED_DATASETS, class: 'connected-dataset-ids' },\n\t\t\t\t\t\t\t_MLHtml('h3', STR.connectedDatasetIDs ) +\n\t\t\t\t\t\t\t_html('div', { class: 'stars' },\n\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\tvar subHtml2 = '',\n\t\t\t\t\t\t\t\t\t\t\tid, type,\n\t\t\t\t\t\t\t\t\t\t\tdisposableStarId, \n\t\t\t\t\t\t\t\t\t\t\tmaxTriples = 0, \n\t\t\t\t\t\t\t\t\t\t\tnoOfTriples = [],\n\t\t\t\t\t\t\t\t\t\t\tnoOfConnectedDatasets = datasets.connectedDatasetIds.noOf(starId),\n\t\t\t\t\t\t\t\t\t\t\tnoOfXrefs = datasets.xref.noOf(starId);\n\t\t\t\t\t\t\t\t\t// calculation\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < noOfConnectedDatasets; i++) {\n\t\t\t\t\t\t\t\t\t\tnoOfTriples[i] = datasets.connectedDatasetIds.noOfTriple(starId, i);\n\t\t\t\t\t\t\t\t\t\tmaxTriples = maxTriples > noOfTriples[i] ? maxTriples : noOfTriples[i];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < noOfXrefs; j++) {\n\t\t\t\t\t\t\t\t\t\tnoOfTriples[i + j] = datasets.xref.noOfTriples(starId, j);\n\t\t\t\t\t\t\t\t\t\tmaxTriples = maxTriples > noOfTriples[i + j] ? maxTriples : noOfTriples[i + j];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// internal\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < noOfConnectedDatasets; i++) {\n\t\t\t\t\t\t\t\t\t\tdisposableStarId = 'disposableStar' + __g.disposableStarId ++;\n\t\t\t\t\t\t\t\t\t\tid = datasets.connectedDatasetIds.id(starId, i);\n\t\t\t\t\t\t\t\t\t\ttype = datasets.connectedDatasetIds.type(starId, i);\n\t\t\t\t\t\t\t\t\t\tsubHtml2 +=\n\t\t\t\t\t\t\t\t\t\t\t`<div id=\"${disposableStarId}\" class=\"star\" data-id=\"${id}\" data-type=\"${type}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"icon\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${_MLHtml('h2', datasets.title(id))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${type ? `<p class=\"link-type\">${type}</p>` : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"bar\" style=\"width: ${(noOfTriples[i] / maxTriples) * 75}%;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"number-of-triples\">${_numeral(noOfTriples[i])}<small>links</small></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t\t\tdisposableStarIds.push(disposableStarId);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < noOfXrefs; j++) {\n\t\t\t\t\t\t\t\t\t\ttype = datasets.xref.type(starId, j);\n\t\t\t\t\t\t\t\t\t\tsubHtml2 += `\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"star xref\" data-type=\"${type}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"icon\" href=\"${datasets.xref.uri(starId, j)}\" target=\"_blank\"></a>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${_MLHtml('h2', datasets.xref.title(starId, j))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${type ? `<p class=\"link-type\">${type}</p>` : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"bar\" style=\"width: ${(noOfTriples[i + j] / maxTriples) * 75}%;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"number-of-triples\">${_numeral(noOfTriples[i + j])}<small>links</small></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// external\n\t\t\t\t\t\t\t\t\treturn subHtml2;\n\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn subHtml1;\n\t\t\t\t})() +\n\t\t\t\t_html('aside', { id: ID_STATISTICS, class: 'statistics' }, // #### 統計情報\n\t\t\t\t\t_MLHtml('h3', STR.statistics ) +\n\t\t\t\t\t_html('table', { class: 'horizontal-table' },\n\t\t\t\t\t\t_htmlStatics(starId) +\n\t\t\t\t\t\t_htmlHasDetailAndDetail('graphs') + // Graphs\n\t\t\t\t\t\t_htmlHasDetailAndDetail('ontologies') // Ontologies\n\t\t\t\t\t)\n\t\t\t\t) +\n\t\t\t\t(function(){ // #### Schema\n\t\t\t\t\tif (noOfSchema === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar subHtml = '';\n\t\t\t\t\tfor (var i = 0; i < noOfSchema; i++) {\n\t\t\t\t\t\tsubHtml += \n\t\t\t\t\t\t\t'<a href=\"' + datasets.schema.imageUri(starId, i) + '\" target=\"_blank\" class=\"schema\">' +\n\t\t\t\t\t\t\t\t'<img src=\"' + datasets.schema.imageUri(starId, i) + '\" alt=\"\">' +\n\t\t\t\t\t\t\t\t_MLHtml('span', { class: 'open' }, STR.open) +\n\t\t\t\t\t\t\t'</a>';\n\t\t\t\t\t}\n\t\t\t\t\tsubHtml =\n\t\t\t\t\t_html('aside', { id: ID_SCHEMA, class: 'schema' },\n\t\t\t\t\t\t_MLHtml('h3', STR.schema) +\n\t\t\t\t\t\t_html('div', { class: 'images' }, subHtml));\n\t\t\t\t\treturn subHtml;\n\t\t\t\t})() +\n\t\t\t\t(function(){ // #### SPARQL examples\n\t\t\t\t\tif (noOfSPARQLExamples === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_SPARQL_EXAMPLES, class: 'sparql-examples' },\n\t\t\t\t\t\t_MLHtml( 'h3', STR.sparqlExamples ) +\n\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\tvar subHtml2 = '';\n\t\t\t\t\t\t\tfor (var i = 0; i < datasets.SPARQLExamples.noOf(starId); i++) {\n\t\t\t\t\t\t\t\tsubHtml2 +=\n\t\t\t\t\t\t\t\t_html('div', { class: 'sparql' },\n\t\t\t\t\t\t\t\t\t'<textarea class=\"sparql-textarea\">' + datasets.SPARQLExamples.sparql(starId, i) + '</textarea>' +\n\t\t\t\t\t\t\t\t\t_html('form', { action: datasets.SPARQLExamples.uri(starId, i), target: '_blank', method: 'POST' },\n\t\t\t\t\t\t\t\t\t\t_html('button', { type: 'submit' }, _MLHtml(STR.sparqlEndpoint)) +\n\t\t\t\t\t\t\t\t\t\t_html('input', { type: 'hidden', name: 'query', value: datasets.SPARQLExamples.sparql(starId, i).replace(/\"/g, '&quot;') },\n\t\t\t\t\t\t\t\t\t\t'')\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn subHtml2;\n\t\t\t\t\t\t})()\n\t\t\t\t\t);\n\t\t\t\t\treturn subHtml1;\n\t\t\t\t})() +\n\t\t\t\t(function(){ // #### Stanza\n\t\t\t\t\t//// Rubby wrapper CASE\n\t\t\t\t\tif (noOfStanza === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_STANZA, class: 'stanzas' },\n\t\t\t\t\t\t_MLHtml('h3', STR.stanzas) +\n\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\tvar subHtml2 = '';\n\t\t\t\t\t\t\tfor (var i = 0; i < noOfStanza; i++) {\n\t\t\t\t\t\t\t\tsubHtml2 += \n\t\t\t\t\t\t\t\t\t`<div class=\"stanza\"><h4>${datasets.stanza.label(starId, i)}</h4><p class=\"definition\">${datasets.stanza.definition(starId, i)}</p>@@parameters@@<iframe src=\"http://togostanza.org/stanza/js_stanza_wrapper?server=http%3A%2F%2Ftogostanza.org%2Fdist%2Fstanza&name=${datasets.stanza.id(starId, i)}&options=@@options@@\"></iframe></div>`\n\t\t\t\t\t\t\t\t\t.replace('@@parameters@@', \n\t\t\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\t\t\tvar subHtml3 = '';\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < datasets.stanza.parameter.noOf(starId, i); j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tsubHtml3 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div class=\"parameter ${datasets.stanza.parameter.required(starId, i, j) ? 'required' : ''}\"><p class=\"key\">${datasets.stanza.parameter.key(starId, i, j)}</p><input type=\"text\" value=\"${datasets.stanza.parameter.example(starId, i, j)}\"><p class=\"description\">${datasets.stanza.parameter.description(starId, i, j)}</p></div>`;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.replace('@@options@@',\n\t\t\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\t\t\tvar subHtml3 = '';\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < datasets.stanza.parameter.noOf(starId, i); j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tsubHtml3 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t(j === 0 ? '' : '+') +\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatasets.stanza.parameter.key(starId, i, j) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatasets.stanza.parameter.example(starId, i, j);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn subHtml2;\n\t\t\t\t\t\t})()\n\t\t\t\t\t);\n\t\t\t\t\t//// JS CASE\n\t\t\t\t\t/*\n\t\t\t\t\tvar stanza = 'protein_sequence';\n\t\t\t\t\t$('head').append('<link rel=\"import\" href=\"./stanza/list_compounds_bound_to_givin_protein.html\">');\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_STANZA, class: 'stanzas' },\n\t\t\t\t\t\t_MLHtml('h3', STR.stanzas) +\n\t\t\t\t\t\t'<togostanza-list_compounds_bound_to_givin_protein up_id=\"P00533\" standard_type=\"IC50\"></togostanza-list_compounds_bound_to_givin_protein>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\t*/\n\t\t\t\t\t//// IFRAME CASE\n\t\t\t\t\t/*\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_STANZA, class: 'stanzas' },\n\t\t\t\t\t\t_MLHtml('h3', STR.stanzas) +\n\t\t\t\t\t\t'<iframe class=\"\" style=\"height: 500px;\" id=\"stanza-frame-1\" name=\"stanza-frame-1\" src=\"http://togostanza.org/stanza/environment_geographical_map?meo_id=MEO_0000029\"></iframe>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\t*/\n\t\t\t\t\treturn subHtml1;\n\t\t\t\t})() +\n\t\t\t'</div><!-- /.detail-view -->' +\n\t\t\t(function(){ // navigation\n\t\t\t\tvar subHtml = '<nav class=\"detail-navigation\">';\n\t\t\t\t\tsubHtml += \n\t\t\t\t\t\t_html('a', { href: '#' + ID_SPECIFICATION }, _MLHtml('h3', STR.specification ) );\n\t\t\t\t\tsubHtml += noOfConnectedDatasets > 0 ? \n\t\t\t\t\t\t_html('a', { href: '#' + ID_CONNECTED_DATASETS }, _MLHtml('h3', STR.connectedDatasetIDs ) ) : '';\n\t\t\t\t\tsubHtml += \n\t\t\t\t\t\t_html('a', { href: '#' + ID_STATISTICS }, _MLHtml('h3', STR.statistics ) );\n\t\t\t\t\tsubHtml += noOfSchema !== 0 ?\n\t\t\t\t\t\t_html('a', { href: '#' + ID_SCHEMA }, _MLHtml('h3', STR.schema ) ) : '';\n\t\t\t\t\tsubHtml += noOfSPARQLExamples > 0 ? \n\t\t\t\t\t\t_html('a', { href: '#' + ID_SPARQL_EXAMPLES }, _MLHtml('h3', STR.sparqlExamples ) ) : '';\n\t\t\t\t\tsubHtml += noOfStanza > 0 ?\n\t\t\t\t\t\t_html('a', { href: '#' + ID_STANZA },\n\t\t\t\t\t\t\t_MLHtml('h3', STR.stanzas ) ) : '';\n\t\t\t\treturn subHtml + '</nav>';\n\t\t\t})();\n\t\t__g.app.$main.append(html);\n\t\tthis._$currentDetailView = $('#detail-view' + this._counter++);\n\t\t//$detailView = __g.append\n\t\t__g.app.$main.children('.detail-view');\n\t\t_$schemaImages = $('#detail-schema').children('.images');\n\n\t\t// comma\n\t\t_placeComma(this._$currentDetailView);\n\n\t\t// CodeMirror\n\t\twidth = $w.innerWidth() - __g.DETAIL_MARGIN;\n\t\tthis._$currentDetailView.find('.sparql-examples').find('textarea').each(function(){\n\t\t\tcmEditor = CodeMirror.fromTextArea(this, {\n\t\t\t\tmode: 'application/sparql-query',\n\t\t\t\tmatchBrackets: true,\n\t\t\t\tlineNumbers: true\n\t\t\t});\n\t\t\tcmEditors.push(cmEditor);\n\t\t\tcmEditor.setSize(width, 'auto');\n\t\t});\n\n\t\t// スタンザのパラメータを変更するとスタンザ更新\n\t\tthis._$currentDetailView.find('.stanza input').on('change', function(){\n\t\t\tvar $stanza = $(this).parents('.stanza'),\n\t\t\t\t\t$iframe = $stanza.find('iframe'),\n\t\t\t\t\tsrc = $iframe.attr('src'),\n\t\t\t\t\t$parameters = $stanza.find('.parameter');\n\t\t\tsrc = src.substring(0, src.indexOf('&options=') + 1) + '&options=';\n\t\t\tfor (var i = 0; i < $parameters.length; i++) {\n\t\t\t\tvar $parameter = $($parameters[i]);\n\t\t\t\tsrc += (i === 0 ? '' : '+') + $parameter.find('p.key').text() + '=' + $parameter.find('input').val();\n\t\t\t}\n\t\t\t$iframe.attr('src', src);\n\t\t});\n\n\t\t// ナブゲーション押下でスムーズスクロール\n\t\t$detailNavigationItems = __g.app.$main.children('nav.detail-navigation').find('a')\n\t\t\t.each(function(){\n\t\t\t\tthis.$ = $(this);\n\t\t\t\tthis.$target = $(this.getAttribute('href'));\n\t\t\t})\n\t\t\t.on('click', function(){\n\t\t\t\tvar top = this.$target.offset().top;\n\t\t\t\t$('body, html').animate({ scrollTop: top }, 400, 'swing');\n\t\t\t\treturn false;\n\t\t\t});\n\t\t$w\n\t\t\t.on({\n\t\t\t\t'scroll.detail-navigation': function(){ // 画面中に収まっている項目を指示\n\t\t\t\t\tvar scrollTop = $w.scrollTop(),\n\t\t\t\t\t\t\tscrollBottom = scrollTop + $w.innerHeight();\n\t\t\t\t\t$detailNavigationItems.each(function(){\n\t\t\t\t\t\tvar top = this.$target.offset().top,\n\t\t\t\t\t\t\t\tbottom = top + this.$target.innerHeight();\n\t\t\t\t\t\tif ((bottom < scrollTop) || (scrollBottom < top)) {\n\t\t\t\t\t\t\tthis.$.removeClass('within');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$.addClass('within');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t'resize.detail-code-mirror': function(){\n\t\t\t\t\twidth = $w.innerWidth() - __g.DETAIL_MARGIN;\n\t\t\t\t\t_$schemaImages.width(width);\n\t\t\t\t\tfor (i = 0; i < cmEditors.length; i++) {\n\t\t\t\t\t\tcmEditors[i].setSize(width, 'auto');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.triggerHandler('scroll.detail-navigation');\n\n\t\t// 関連データセットのノード\n\t\tfor (i = 0; i < disposableStarIds.length; i++) {\n\t\t\t$connectedDataset = $('#' + disposableStarIds[i]);\n\t\t\t$connectedDataset.children('.icon').on('click', function(){\n\t\t\t\t__g.app.starsWithKeys[this.parentNode.getAttribute('data-id')].clickedAlias(this);\n\t\t\t});\n\t\t\tnew StarImage(datasets.connectedDatasetIds.id(starId, i), $connectedDataset);\n\t\t}\n\n\t\t// 子項目を持つ要素の折りたたみとインタラクション定義\n\t\tvar _setDetailCollapsible = function(elm){\n\t\t\t$(elm).find('.has-detail').each(function(){\n\t\t\t\tif (this.isCollapsible === true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isOpened = false, isLoaded = false,\n\t\t\t\t\t\tjsonKind = this.getAttribute('data-json-kind'),\n\t\t\t\t\t\tjsonUri = this.getAttribute('data-json-uri'),\n\t\t\t\t\t\tclassification = this.getAttribute('data-classification'),\n\t\t\t\t\t\tindex = parseInt(this.getAttribute('data-index')),\n\t\t\t\t\t\t$this = $(this),\n\t\t\t\t\t\t$closer = $this.next('.detail').children('td').children('.closer'),\n\t\t\t\t\t\t$closerInner = $closer.children('.closer-inner');\n\t\t\t\tthis.isCollapsible = true;\n\t\t\t\t$closer.css({\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\t$closerInner.css( 'margin-bottom', -$closerInner.outerHeight() );\n\t\t\t\t$w.on('resize.detail', function() {\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t$closerInner.css( 'margin-bottom', -$closerInner.outerHeight() );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$this.on('click', function(){\n\t\t\t\t\tisOpened = !isOpened;\n\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\t$this.addClass('opened');\n\t\t\t\t\t\t$closerInner.css( 'margin-bottom', 0 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.removeClass('opened');\n\t\t\t\t\t\t$closerInner.css( 'margin-bottom', -$closerInner.outerHeight() );\n\t\t\t\t\t}\n\t\t\t\t\tif (jsonUri !== 'undefined' && jsonUri !== undefined && jsonUri !== null && !isLoaded) { // ロード\n\t\t\t\t\t\twindow.setTimeout(function(){\n\t\t\t\t\t\t\tvar DATASETS = classification === 'undefined' ? __g.app.datasets[jsonKind] : __g.app.datasets[classification][jsonKind];\n\t\t\t\t\t\t\tDATASETS.load(starId, function(){\n\t\t\t\t\t\t\t\t_makeCollapsedTable(\n\t\t\t\t\t\t\t\t\tDATASETS,\n\t\t\t\t\t\t\t\t\tclassification,\n\t\t\t\t\t\t\t\t\tjsonKind,\n\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t$this.next('.detail').find('tbody'));\n\t\t\t\t\t\t\t}, index);\n\t\t\t\t\t\t}, 600);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t_setDetailCollapsible(this._$currentDetailView);\n\n\t\t// 折りたたまれたテーブルの生成\n\t\tvar _makeCollapsedTable = function(DATASETS, classification, jsonKind, index, offset, $tbody){\n\t\t\tvar subHtml = '', uri, label, anchor, noOfDomainClasses, noOfRangeClasses,\n\t\t\t\t\tnoOf = DATASETS.noOf(starId, index);\n\n\t\t\t// remove indicator\n\t\t\t$tbody.find('tr.loading, tr.more').remove();\n\n\t\t\t// html\n\t\t\tfor (i = offset; i < offset + __g.DATA_LENGTH; i++) {\n\t\t\t\tif (i === noOf) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tswitch (jsonKind) {\n\t\t\t\t\tcase 'classes': {\n\t\t\t\t\t\turi = DATASETS.class(starId, i, index);\n\t\t\t\t\t\tlabel = DATASETS.label(starId, i, index);\n\t\t\t\t\t\tanchor = (typeof label === 'string') ? _htmlAnchor(uri, label) : _MLAnchor(uri, label);\n\t\t\t\t\t\tsubHtml += _htmlTRValueNumeral( anchor, DATASETS.noOfInstances(starId, i, index) );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'properties': {\n\t\t\t\t\t\turi = DATASETS.property(starId, i, index);\n\t\t\t\t\t\tnoOfDomainClasses = DATASETS.domainClasses.noOf(starId, i, index);\n\t\t\t\t\t\tnoOfRangeClasses = DATASETS.rangeClasses.noOf(starId, i, index);\n\t\t\t\t\t\tif (noOfDomainClasses === 0) {\n\t\t\t\t\t\t\tsubHtml += _htmlTRValueNumeral( _htmlAnchor(uri, uri), DATASETS.noOfTriples(starId, i, index) );\n\t\t\t\t\t\t} else { // domain/range クラスを property の持つ場合\n\t\t\t\t\t\t\tsubHtml += _htmlTRHasDetailValueNumeral2(\n\t\t\t\t\t\t\t\t\t_htmlAnchor(uri, uri),\n\t\t\t\t\t\t\t\t\tDATASETS.noOfTriples(starId, i, index),\n\t\t\t\t\t\t\t\t\t'classes',\n\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\tclassification,\n\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t_htmlTRDetail((function(){\n\t\t\t\t\t\t\t\t\tvar subHtml4 = \n\t\t\t\t\t\t\t\t\t\t_html('table', { class: 'internal left-heading domain-and-range-class' },\n\t\t\t\t\t\t\t\t\t\t\t_html('tbody', { class: 'domain-class' }, (function(){ // domain classes\n\t\t\t\t\t\t\t\t\t\t\t\tvar subHtml5 = '';\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < noOfDomainClasses; k++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubHtml5 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(k === 0 ? _MLHtml('th', { rowspan: noOfDomainClasses }, STR.domainClasses) : '') +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('td', _htmlAnchor(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDATASETS.domainClasses.domainClass(starId, k, i, index),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_MLHtml(DATASETS.domainClasses.label(starId, k, i, index)))));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn subHtml5;\n\t\t\t\t\t\t\t\t\t\t\t})()) +\n\t\t\t\t\t\t\t\t\t\t\t_html('tbody', { class: 'range-class' }, (function(){ // range classes\n\t\t\t\t\t\t\t\t\t\t\t\tvar subHtml5 = '';\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < noOfRangeClasses; k++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubHtml5 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(k === 0 ? _MLHtml('th', { rowspan: noOfRangeClasses }, STR.rangeClasses) : '') +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('td', _htmlAnchor(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDATASETS.rangeClasses.rangeClass(starId, k, i, index),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_MLHtml(DATASETS.rangeClasses.label(starId, k, i, index)))));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn subHtml5;\n\t\t\t\t\t\t\t\t\t\t\t})())\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\treturn subHtml4;\n\t\t\t\t\t\t\t\t})());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$tbody.append(subHtml);\n\t\t\t_setDetailCollapsible( $tbody );\n\t\t\t_placeComma( $tbody );\n\n\t\t\t// interaction\n\t\t\tif (i < noOf) {\n\t\t\t\t$tbody.append('<tr class=\"more\"><td colspan=\"2\">' + _MLHtml(__g.STRINGS.more) + '<small>(' + (i + 1) + '~)</small></td></tr>');\n\t\t\t\t$tbody.find('tr.more').on('click', function(){\n\t\t\t\t\t_makeCollapsedTable(\n\t\t\t\t\t\tDATASETS,\n\t\t\t\t\t\tclassification,\n\t\t\t\t\t\tjsonKind,\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\ti,\n\t\t\t\t\t\t$tbody);\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\t// 遷移終了\t\n\t\twindow.setTimeout(() => {\n\t\t\tthis._$currentDetailView.addClass('shown');\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('dataset'));\n\t\t}, __g.DETAIL_DELAY * 0.25);\n\t}\n\n\thide() {\n\t\tthis._$currentDetailView\n\t\t\t.addClass('hidden')\n\t\t\t.delay(__g.DETAIL_DELAY * 4)\n\t\t\t.animate({ opacity: 0 }, { duration: __g.DETAIL_DELAY, complete: function(){ $(this).remove(); } });\n\t\t$w.off('scroll.detail-navigation resize.detail resize.detail-code-mirror');\n\t\t__g.app.$main.children('nav.detail-navigation').remove();\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareLeaveFromDetailView();\n\t\t});\n\t\tthis._$frame.addClass('frame-out');\n\t}\n\n\t// accessor\n\tstatic get ORIGIN() {\n\t\treturn ORIGIN\n\t}\n\tstatic get OFFSET() {\n\t\treturn OFFSET\n\t}\n\n} // ********** end of DetailViewController class\n","/* global $ */\n\nimport {__g} from './global.js';\n\n/* Datasets class\n * データセットのアクセッサーシングルトンクラス\n * json データの変換・橋渡しを行う\n * @param param object\n * \n */\nexport default class Datasets {\n\n\tconstructor(data) {\n\t\tthis._noOfDatasets;\n\t\tthis._classes = {};\n\t\tthis._graphClasses = {};\n\t\tthis._ontologyClasses = {};\n\t\tthis._properties = {};\n\t\tthis._graphProperties = {};\n\t\tthis._ontologyProperties = {};\n\t\tthis.data = data;\n\t\tconst self = this;\n\n\t\tthis.creators = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].creators.length;\n\t\t\t},\n\t\t\tname: function(id, index) {\n\t\t\t\treturn data[id].creators[index].name;\n\t\t\t},\n\t\t\taffiliation: function(id, index) {\n\t\t\t\treturn data[id].creators[index].affiliation;\n\t\t\t}\n\t\t};\n\n\t\tthis.version = function(id) {\n\t\t\treturn data[id].version;\n\t\t};\n\t\tthis.issued = function(id) {\n\t\t\treturn data[id].issued;\n\t\t};\n\t\tthis.logotypeUrl = function(id) {\n\t\t\treturn data[id].logo_url;\n\t\t};\n\n\t\tthis.schema = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].schema_image_urls.length;\n\t\t\t},\n\t\t\timageUri: function(id, index) {\n\t\t\t\treturn data[id].schema_image_urls[index];\n\t\t\t}\n\t\t};\n\n\t\tthis.downloadFile = {\n\t\t\tname: function(id) {\n\t\t\t\treturn data[id].download_file.name;\n\t\t\t},\n\t\t\turi: function(id) {\n\t\t\t\treturn data[id].download_file.url;\n\t\t\t},\n\t\t\tsize: function(id) {\n\t\t\t\treturn data[id].download_file.size;\n\t\t\t}\n\t\t};\n\n\t\tthis.noOfTriples = function(id) {\n\t\t\treturn data[id].number_of_triples;\n\t\t};\n\t\tthis.noOfInstances = function(id) {\n\t\t\treturn data[id].number_of_instances;\n\t\t};\n\t\tthis.noOfSubjects = function(id) {\n\t\t\treturn data[id].number_of_subjects;\n\t\t};\n\t\tthis.noOfObjects = function(id) {\n\t\t\treturn data[id].number_of_objects;\n\t\t};\n\t\tthis.noOfLiterals = function(id) {\n\t\t\treturn data[id].number_of_literals;\n\t\t};\n\t\tthis.noOfClasses = function(id) {\n\t\t\treturn data[id].number_of_classes;\n\t\t};\n\t\tthis.noOfProperties = function(id) {\n\t\t\treturn data[id].number_of_properties;\n\t\t};\n\t\tthis.noOfDatatypes = function(id) {\n\t\t\treturn data[id].number_of_datatypes;\n\t\t};\n\t\tthis.noOfLinks = function(id) {\n\t\t\treturn data[id].number_of_links;\n\t\t};\n\n\t\tthis.classes = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].number_of_classes;\n\t\t\t},\n\t\t\tjsonUri: function(id) {\n\t\t\t\treturn data[id].classes;\n\t\t\t},\n\t\t\tload: function(id, callback) {\n\t\t\t\tif (!self._classes[id]) {\n\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\tself.classes.jsonUri(id),\n\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\tself._classes[id] = data;\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tclass: function(id, index) {\n\t\t\t\treturn self._classes[id][index].class;\n\t\t\t},\n\t\t\tlabel: function(id, index) {\n\t\t\t\treturn self._classes[id][index].label[__g.app.language];\n\t\t\t},\n\t\t\tnoOfInstances: function(id, index) {\n\t\t\t\treturn self._classes[id][index].number_of_instances;\n\t\t\t}\n\t\t};\n\n\t\tthis.properties = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].number_of_properties;\n\t\t\t},\n\t\t\tjsonUri: function(id) {\n\t\t\t\treturn data[id].properties;\n\t\t\t},\n\t\t\tload: function(id, callback) {\n\t\t\t\tif (!self._properties[id]) {\n\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\tself.properties.jsonUri(id),\n\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\tself._properties[id] = data;\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tproperty: function(id, index) {\n\t\t\t\treturn self._properties[id][index].property;\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn self._properties[id][index].number_of_triples;\n\t\t\t},\n\t\t\tdomainClasses: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn self._properties[id][index].domain_classes.length;\n\t\t\t\t},\n\t\t\t\tdomainClass: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].domain_classes[index].domain_class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].domain_classes[index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].domain_classes[index].number_of_instances;\n\t\t\t\t}\n\t\t\t},\n\t\t\trangeClasses: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn self._properties[id][index].range_classes.length;\n\t\t\t\t},\n\t\t\t\trangeClass: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].range_classes[index].range_class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].range_classes[index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].range_classes[index].number_of_instances;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// datatype\n\t\tthis.datatypes = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].number_of_datatypes;\n\t\t\t},\n\t\t\tdatatype: function(id, index) {\n\t\t\t\treturn data[id].datatypes[index];\n\t\t\t}\n\t\t};\n\n\t\t// cross reference\n\t\tthis.xref = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].xrefs.length;\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].uri_space;\n\t\t\t},\n\t\t\ttype: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].type;\n\t\t\t},\n\t\t\ttitle: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].title;\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].number_of_triples;\n\t\t\t}\n\t\t};\n\n\t\t// connected\n\t\tthis.connectedDatasetIds = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].connected_dataset_ids.length;\n\t\t\t},\n\t\t\tid: function(id, index) {\n\t\t\t\treturn data[id].connected_dataset_ids[index].id;\n\t\t\t},\n\t\t\ttype: function(id, index) {\n\t\t\t\treturn data[id].connected_dataset_ids[index].type;\n\t\t\t},\n\t\t\tnoOfTriple: function(id, index) {\n\t\t\t\treturn data[id].connected_dataset_ids[index].number_of_triples;\n\t\t\t}\n\t\t};\n\n\t\t// ontology\n\t\tthis.ontologies = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].ontologies.length;\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].uri;\n\t\t\t},\n\t\t\tdescription: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].description;\n\t\t\t},\n\t\t\tfiles: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].files.length;\n\t\t\t\t},\n\t\t\t\tname: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].files[index].name;\n\t\t\t\t},\n\t\t\t\turi: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].files[index].url;\n\t\t\t\t},\n\t\t\t\tsize: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].files[index].size;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_triples;\n\t\t\t},\n\t\t\tnoOfInstances: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_instances;\n\t\t\t},\n\t\t\tnoOfSubjects: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_subjects;\n\t\t\t},\n\t\t\tnoOfObjects: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_objects;\n\t\t\t},\n\t\t\tnoOfLiterals: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_literals;\n\t\t\t},\n\t\t\tclasses: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].number_of_classes;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].classes;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._ontologyClasses[id]) {\n\t\t\t\t\t\tself._ontologyClasses[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._ontologyClasses[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.classes.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._ontologyClasses[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tclass: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyClasses[id][index2][index].class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyClasses[id][index2][index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyClasses[id][index2][index].number_of_instances;\n\t\t\t\t}\n\t\t\t},\n\t\t\tproperties: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].number_of_properties;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].properties;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._ontologyProperties[id]) {\n\t\t\t\t\t\tself._ontologyProperties[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._ontologyProperties[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.properties.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._ontologyProperties[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tproperty: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyProperties[id][index2][index].property;\n\t\t\t\t},\n\t\t\t\tnoOfTriples: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyProperties[id][index2][index].number_of_triples;\n\t\t\t\t},\n\t\t\t\tdomainClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index2][index].domain_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\tdomainClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].domain_classes[index].domain_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].domain_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].domain_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trangeClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index2][index].range_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\trangeClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].range_classes[index].range_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].range_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].range_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdatatypes: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].length;\n\t\t\t\t},\n\t\t\t\tdatatype: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].datatypes[index];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// graph\n\t\tthis.graphs = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].graphs.length;\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].uri;\n\t\t\t},\n\t\t\tdescription: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].description;\n\t\t\t},\n\t\t\tfiles: {\n\t\t\t\tnoOf: function(id, index) { // file\n\t\t\t\t\treturn data[id].graphs[index].files.length;\n\t\t\t\t},\n\t\t\t\tname: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].files[index].name;\n\t\t\t\t},\n\t\t\t\turi: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].files[index].url;\n\t\t\t\t},\n\t\t\t\tsize: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].files[index].size;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_triples;\n\t\t\t},\n\t\t\tnoOfInstances: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_instances;\n\t\t\t},\n\t\t\tnoOfSubjects: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_subjects;\n\t\t\t},\n\t\t\tnoOfObjects: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_objects;\n\t\t\t},\n\t\t\tnoOfLiterals: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_literals;\n\t\t\t},\n\t\t\tclasses: { // class\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].number_of_classes;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].classes;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._graphClasses[id]) {\n\t\t\t\t\t\tself._graphClasses[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._graphClasses[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.classes.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._graphClasses[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tclass: function(id, index, index2) {\n\t\t\t\t\treturn self._graphClasses[id][index2][index].class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._graphClasses[id][index2][index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._graphClasses[id][index2][index].number_of_instances;\n\t\t\t\t}\n\t\t\t},\n\t\t\tproperties: { // property\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].number_of_properties;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].properties;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._graphProperties[id]) {\n\t\t\t\t\t\tself._graphProperties[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._graphProperties[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.properties.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._graphProperties[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tproperty: function(id, index, index2) {\n\t\t\t\t\treturn self._graphProperties[id][index2][index].property;\n\t\t\t\t},\n\t\t\t\tnoOfTriples: function(id, index, index2) {\n\t\t\t\t\treturn self._graphProperties[id][index2][index].number_of_triples;\n\t\t\t\t},\n\t\t\t\tdomainClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._graphProperties[id][index2][index].domain_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\tdomainClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].domain_classes[index].domain_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].domain_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].domain_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trangeClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._graphProperties[id][index2][index].range_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\trangeClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].range_classes[index].range_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].range_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].range_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdatatypes: { // datatype\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].number_of_datatypes;\n\t\t\t\t},\n\t\t\t\tdatatype: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].datatypes[index];\n\t\t\t\t}\n\t\t\t},\n\t\t\txrefs: function(id, index, index2) { // TODO:\n\t\t\t\treturn data[id].graphs[index].xrefs;\n\t\t\t}\n\t\t};\n\n\t\t// tag\n\t\tthis.tags = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].tags.targets[__g.app.language].length + data[id].tags.information_types[__g.app.language].length;\n\t\t\t},\n\t\t\ttag: function(id, index) {\n\t\t\t\tvar obj = {}, lang,\n\t\t\t\t\t\ttargetsLength = data[id].tags.targets[__g.app.language].length;\n\t\t\t\tif (index < targetsLength) {\n\t\t\t\t\tfor (lang in data[id].tags.targets) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.targets[lang][index];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (lang in data[id].tags.targets) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.information_types[lang][index - targetsLength];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\ttargets: {\n\t\t\t\tnoOf: function(id) {\n\t\t\t\t\treturn data[id].tags.targets[__g.app.language].length;\n\t\t\t\t},\n\t\t\t\ttarget: function(id, index) {\n\t\t\t\t\tvar obj = {};\n\t\t\t\t\tfor (var lang in data[id].tags.targets) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.targets[lang][index];\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t},\n\t\t\tinformationTypes: {\n\t\t\t\tnoOf: function(id) {\n\t\t\t\t\treturn data[id].tags.information_types[__g.app.language].length;\n\t\t\t\t},\n\t\t\t\tinformationType: function(id, index) {\n\t\t\t\t\tvar obj = {};\n\t\t\t\t\tfor (var lang in data[id].tags.information_types) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.information_types[lang][index];\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// license\n\t\tthis.license = {\n\t\t\tname: function(id) {\n\t\t\t\treturn data[id].license.name;\n\t\t\t},\n\t\t\turi: function(id) {\n\t\t\t\treturn data[id].license.url;\n\t\t\t},\n\t\t\tcredit: function(id) {\n\t\t\t\treturn data[id].license.credit;\n\t\t\t}\n\t\t};\n\n\t\t// SPARQL\n\t\tthis.SPARQLExamples = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].sparql_examples.length;\n\t\t\t},\n\t\t\tsparql: function(id, index) {\n\t\t\t\treturn data[id].sparql_examples[index].sparql[__g.app.language];\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].sparql_examples[index].url;\n\t\t\t}\n\t\t};\n\n\t\t// Stanza\n\t\tthis.stanza = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].stanza ? data[id].stanza.length : 0;\n\t\t\t},\n\t\t\tid: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].id;\n\t\t\t},\n\t\t\tlabel: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].label;\n\t\t\t},\n\t\t\tdefinition: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].definition;\n\t\t\t},\n\t\t\tparameter: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].stanza[index].parameter.length;\n\t\t\t\t},\n\t\t\t\tkey: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].key;\n\t\t\t\t},\n\t\t\t\texample: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].example;\n\t\t\t\t},\n\t\t\t\tdescription: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].description;\n\t\t\t\t},\n\t\t\t\trequired: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].required;\n\t\t\t\t}\n\t\t\t},\n\t\t\tusage: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].usage;\n\t\t\t},\n\t\t\ttype: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].type;\n\t\t\t},\n\t\t\tcontext: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].context;\n\t\t\t},\n\t\t\tdisplay: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].display;\n\t\t\t},\n\t\t\tprovider: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].provider;\n\t\t\t},\n\t\t\tlicense: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].license;\n\t\t\t},\n\t\t\tauthor: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].author;\n\t\t\t},\n\t\t\taddress: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].address;\n\t\t\t},\n\t\t\tcontributor: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].contributor;\n\t\t\t},\n\t\t\tcreated: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].created;\n\t\t\t},\n\t\t\tupdated: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].updated;\n\t\t\t}\n\t\t};\n\n\t}\n\n\n\tnoOfDatasets() {\n\t\treturn Object.keys(this.data).length;\n\t}\n\n\tids() {\n\t\treturn Object.keys(this.data);\n\t}\n\tprovidedAs(id) {\n\t\treturn this.data[id].provided_as;\n\t}\n\treviewed(id) {\n\t\treturn this.data[id].reviewed;\n\t}\n\ttitle(id) {\n\t\treturn this.data[id].title;\n\t}\n\turi(id) {\n\t\treturn this.data[id].url;\n\t}\n\tprojectName(id) {\n\t\treturn this.data[id].project_name;\n\t}\n\tdataProvider(id) {\n\t\treturn this.data[id].data_provider;\n\t}\n\tdescription(id) {\n\t\treturn this.data[id].description;\n\t}\n\n\n\t// Guideline\n\tguideline(id) {\n\t\treturn this.data[id].guideline;\n\t}\n\n} // ********** end of Datasets class\n","/* global $ */\n\nimport {__g} from './global.js';\n\nconst\n\t_INTERVAL = 10,\n\t_DURATION = 5;\n\n/* ViewLabel Class\n\t ビューのラベル\n*/\nexport default class ViewLabel {\n\n\tconstructor() {\n\t\tthis._isChanging = false;\n\t\tthis._timerId;\n\t\tthis._index;\n\t\tthis._changingLable;\n\t\tthis._$label = $('#view-label');\n\n\t\t// メニューにマウスが載るとラベルを変更\n\t\t$('#global-navigation li[title]').on({\n\t\t\tmouseenter: (e) => this.changeLable(e.delegateTarget.title),\n\t\t\tmouseleave: () => this.changeLable(__g.VIEWS_LABEL[__g.app.currentView])\n\t\t});\n\t}\n\n\t// ラベルの変更定義\n\tchangeLable(label) {\n\t\tif (this._isChanging) {\n\t\t\t// 変更中であれば現在の変更をキャンセル\n\t\t\tif (label === this._changingLable) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.clearTimeout(this._timerId);\n\t\t}\n\t\tthis._changingLable = label;\n\t\tthis._$label.text('');\n\t\tthis._index = 0;\n\t\tthis._isChanging = true;\n\t\tthis._timerId = window.setTimeout(this.changingLabel.bind(this), _INTERVAL);\n\t}\n\n\t// ラベルの変更\n\tchangingLabel() {\n\t\tthis._index++;\n\t\tconst\n\t\t\tindex = Math.floor(this._index / _DURATION),\n\t\t\tremainder = this._index % _DURATION;\n\t\tlet changingLable = this._changingLable.substr(0, index);\n\t\tif (remainder !== 0) {\n\t\t\tchangingLable = `${changingLable.slice(0, -1)}<span style=\"color: hsl(${Math.random() * 360}, 100%, ${100 * ((remainder) / _DURATION)}%);\">${String.fromCharCode(parseInt(97 + 25 * Math.random()))}</span>`;\n\t\t\t//changingLable = `${changingLable.slice(0, -1)}<span style=\"color: hsl(240, 50%, ${100 * ((remainder) / _DURATION)}%);\">${String.fromCharCode(parseInt(97 + 25 * Math.random()))}</span>`;\n\t\t}\n\t\tthis._$label.html(changingLable);\n\t\tif (this._index < this._changingLable.length * _DURATION) {\n\t\t\tthis._timerId = window.setTimeout(this.changingLabel.bind(this), _INTERVAL);\n\t\t} else {\n\t\t\tthis._isChanging = false;\n\t\t}\n\t}\n\n}\n","/* global $ */\n\nimport {__g, _html, _MLHtml, _sanitizeTag} from './global.js';\nconst _OPENED = 'opened';\n\n/* Control panel class\n * コンソールパネルクラス\n * \n */\nexport default class ControlPanel {\n\n\tconstructor() {\n\t\tconst\n\t\t\t_$controlPanel = $('#control-panel'),\n\t\t\t_$tagFilterButtonAll = $('#tag-filter-button-all'),\n\t\t\t_$tagMarker = $('#control-panel-tag-marker'),\n\t\t\t_$display = {\n\t\t\t\tlistView: {\n\t\t\t\t\tsortBy: $('#control-panel-display-list-view-sort-by').find('dd'),\n\t\t\t\t\tsortOrder: $('#control-panel-display-list-view-sort-order').find('dd')\n\t\t\t\t},\n\t\t\t\tgraphView: {\n\t\t\t\t\tscalingBy: $('#control-panel-display-graph-view-scaling-by').find('dd'),\n\t\t\t\t\tmarked: $('#control-panel-display-graph-view-marked').find('dd')\n\t\t\t\t}\n\t\t\t},\n\t\t\t_$markedTagButtons = {},\n\t\t\t_tags = {};\n\t\tthis._$tagFilters;\n\t\tthis._defaults = __g.userDefaults;\n\t\tthis._providedAs;\n\t\tthis._sort;\n\t\tthis._isAscend;\n\t\tthis._scaling;\n\t\tthis._filteringTags = [];\n\t\tthis._markedTag;\n\t\tthis._colorSchema = {};\n\n\t\t// コンパネの開閉\n\t\t$('#control-panel-icon, #control-panel-display').on('click', () => {\n\t\t\t_$controlPanel.toggleClass(_OPENED);\n\t\t\tthis._defaults.misc.isOpenedControlPanel = _$controlPanel.hasClass(_OPENED);\n\t\t});\n\n\t\t// prepare tags\n\t\t(() => {\n\t\t\tvar idFilter, id, ids = __g.app.datasets.ids(), tag, i, j, htmlFilter = '', htmlMarker = '', counter = 0;\n\n\t\t\t// タグの抽出\n\t\t\tfor (i = 0; i < ids.length; i++) {\n\t\t\t\tid = ids[i];\n\t\t\t\tfor (j = 0; j < __g.app.datasets.tags.noOf(id); j++) { // タグ\n\t\t\t\t\ttag = __g.app.datasets.tags.tag(id, j);\n\t\t\t\t\tif ( !_tags[tag.en] ) {\n\t\t\t\t\t\t_tags[tag.en] = tag;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// HTML生成\n\t\t\tthis._colorSchema.Invalid = '#CCC';\n\t\t\tfor (i in _tags) {\n\t\t\t\ttag = _sanitizeTag(i);\n\t\t\t\tthis._colorSchema[tag] = __g.COLORS[counter++];\n\t\t\t\tidFilter = 'tag-filter-' + tag;\n\t\t\t\thtmlFilter += // フィルター\n\t\t\t\t\t'<dd>' +\n\t\t\t\t\t\t_html('input', { type: 'checkbox', name: idFilter, id: idFilter, value: tag }, '') +\n\t\t\t\t\t\t_MLHtml('label', { for: idFilter }, _tags[i]) +\n\t\t\t\t\t'</dd>';\n\t\t\t\thtmlMarker += // マーカー\n\t\t\t\t\t'<dd data-value=\"' + tag + '\">' +\n\t\t\t\t\t\t_html('label',\n\t\t\t\t\t\t\t_html('span', { class: 'color-ball', style: 'border-color: ' + this._colorSchema[tag] }, '' ) +\n\t\t\t\t\t\t\t_MLHtml(_tags[i])\n\t\t\t\t\t\t) +\n\t\t\t\t\t'</dd>';\n\t\t\t\t// Stylesheet\n\t\t\t\t__g.styleSheet.insertRule( 'ul.tags li.tag-' + tag + ':before { background-color: ' + this._colorSchema[tag] + '; }', __g.styleSheet.cssRules.length );\n\t\t\t}\n\t\t\t$('#control-panel-tag-filter').append(htmlFilter);\n\t\t\t_$tagMarker.append(htmlMarker);\n\t\t\t// マーカータグを格納\n\t\t\t_$markedTagButtons.Invalid = $('dd[data-value=\"Invalid\"]', _$tagMarker);\n\t\t\tfor (i in _tags) {\n\t\t\t\ttag = _sanitizeTag(i);\n\t\t\t\t_$markedTagButtons[tag]  = $('dd[data-value=\"' + tag + '\"]', _$tagMarker);\n\t\t\t}\n\n\t\t})();\n\n\t\t// events\n\t\t// オリジナル、ミラー\n\t\t$('#control-panel-provided-as-filter')\n\t\t\t.find('input[name=\"provided-as\"]')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\tthis._providedAs = e.currentTarget.value;\n\t\t\t\t\tthis._defaults.all.providedAs = this._providedAs;\n\t\t\t\t\t__g.app.postNortification('change-provided-as', this._providedAs);\n\t\t\t\t});\n\n\t\t// ソート\n\t\t$('#control-panel-sort')\n\t\t\t.find('input[name=\"sort\"]')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\tthis._sort = e.delegateTarget.value;\n\t\t\t\t\tthis._defaults.list.sortBy = this._sort;\n\t\t\t\t\t__g.app.postNortification('change-sorting', this._sort);\n\t\t\t\t\t__g.app.$main.get(0).setAttribute('data-kind-of-sort', this._sort);\n\t\t\t\t\t_$display.listView.sortBy.html(e.delegateTarget.nextElementSibling.innerHTML);\n\t\t\t\t})\n\t\t\t.end()\n\t\t\t.find('input[name=\"ascend\"]') // 昇順降順\n\t\t\t\t.on('change', e => {\n\t\t\t\t\tthis._isAscend = e.delegateTarget.value === 'ascend';\n\t\t\t\t\tthis._defaults.list.isAscend = this._isAscend;\n\t\t\t\t\t__g.app.postNortification('change-sorting', this._isAscend);\n\t\t\t\t\t\t_$display.listView.sortOrder.html(e.delegateTarget.nextElementSibling.innerHTML);\n\t\t\t\t});\n\n\t\t// サイジング\n\t\t$('#control-panel-scaling').find('input').on('change', e => {\n\t\t\tthis._scaling = e.delegateTarget.value;\n\t\t\tthis._defaults.graph.scaling = this._scaling;\n\t\t\t__g.app.postNortification('change-scaling', this._scaling);\n\t\t\t_$display.graphView.scalingBy.html(e.delegateTarget.nextElementSibling.innerHTML);\n\t\t});\n\n\t\t// フィルタータグ\n\t\tthis._$tagFilters = $('#control-panel-tag-filter').find('input').on('change', () => {\n\t\t\tthis._filteringTags = [];\n\t\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\t\tif (elm.checked) {\n\t\t\t\t\tthis._filteringTags.push(elm.value);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t\t});\n\n\t\t// 全タグ選択ボタン\n\t\t_$tagFilterButtonAll.on('click', () => {\n\t\t\tthis._filteringTags = [];\n\t\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\t\telm.checked = true;\n\t\t\t\tthis._filteringTags.push(elm.value);\n\t\t\t});\n\t\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t\t});\n\n\t\t// 全タグ選択解除ボタン\n\t\t$('#tag-filter-button-all-deselected').on('click', () => {\n\t\t\tthis._filteringTags = [];\n\t\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\t\telm.checked = false;\n\t\t\t});\n\t\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t\t});\n\n\t\t// マーカータグ\n\t\t$('#control-panel-tag-marker').find('dd').on({\n\t\t\tclick: e => {\n\t\t\t\t//var value = this.dataset.value;\n\t\t\t\t_$markedTagButtons[this._markedTag].find('span.color-ball').css('background-color', 'transparent');\n\t\t\t\tthis._markedTag = e.delegateTarget.getAttribute('data-value');\n\t\t\t\tthis._defaults.graph.markedTag = this._markedTag;\n\t\t\t\t__g.app.postNortification('change-marker-tag', { tag: this._markedTag, color: this._colorSchema[this._markedTag] });\n\t\t\t\t_$markedTagButtons[this._markedTag].find('span.color-ball').css('background-color', this._colorSchema[this._markedTag]);\n\t\t\t\t_$display.graphView.marked.html(_MLHtml(_tags[this._markedTag]));\n\t\t\t}\n\t\t});\n\n\t\t// user default から値をとる\n\t\tthis._providedAs = this._defaults.all.providedAs;\n\t\tthis._sort = this._defaults.list.sortBy;\n\t\tthis._isAscend = this._defaults.list.isAscend;\n\t\tthis._filteringTags = this._defaults.list.filteringTags;\n\t\tthis._scaling = this._defaults.graph.scaling;\n\t\tthis._markedTag = this._defaults.graph.markedTag;\n\t\tif (this._filteringTags === null) {\n\t\t\t_$tagFilterButtonAll.trigger('click');\n\t\t}\n\n\t\t// 値を input にセット\n\t\tif (this._defaults.misc.isOpenedControlPanel) {\n\t\t\t_$controlPanel.addClass(_OPENED);\n\t\t}\n\t\t$('#control-panel-provided-as-filter').find(`input[value=\"${this._providedAs}\"]`).prop('checked', true).triggerHandler('change');\n\t\t$('#control-panel-sort').find(`input[value=\"${this._sort}\"]`).prop('checked', true).triggerHandler('change');\n\t\t$(this._isAscend ? '#sort-ascend' : '#sort-descend').prop('checked', true).triggerHandler('change');\n\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\tif (this._filteringTags.indexOf(elm.value) !== -1) {\n\t\t\t\tthis.checked = true;\n\t\t\t}\n\t\t});\n\t\t$('#control-panel-scaling').find('input[value=\"' + this._scaling + '\"]').prop('checked', true).triggerHandler('change');\n\t\t_$markedTagButtons[this._markedTag].triggerHandler('click');\n\n\t}\n\n\n\t// accessor\n\tprovidedAsFilter() { return this._providedAs };\n\tkindOfSorting() { return this._sort; }\n\tisAscend() { return this._isAscend; }\n\tkindOfScaling() { return this._scaling; }\n\tselectedFilteringTags() { return this._filteringTags; }\n\tselectedMarkedTag() { return { tag: this._markedTag, color: this._colorSchema[this._markedTag] }; }\n\tcolor(tag) { return this._colorSchema[tag]; }\n\n\t// 選択されたタグ以外は非選択に\n\tselectFilteringTag(tag) {\n\t\tthis._filteringTags = [];\n\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\tif (elm.value === tag) {\n\t\t\t\telm.checked = true;\n\t\t\t\tthis._filteringTags.push(elm.value);\n\t\t\t} else {\n\t\t\t\telm.checked = false;\n\t\t\t}\n\t\t});\n\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t}\n\n\t//changeView(kindOfView) {\n\t//};\n\n} // ********** end of Control panel class\n","/* global $, d3 */\n\nimport {__g, _html, _MLHtml, _numeral, _sanitizeTag} from './global.js';\nimport StarImage from './StarImage.js';\nimport ListViewController from './ListViewController.js';\nimport MatrixViewController from './MatrixViewController.js';\nimport DetailViewController from './DetailViewController.js';\n\nconst\n\tOPENING_RADIAL = 60,\n\tSIZE = [\n\t\t{ REGULAR:  40, MIN:  40, MAX:  40 }, // home\n\t\t{ REGULAR:  80, MIN:  80, MAX:  80 }, // list\n\t\t{ REGULAR:  32, MIN:  32, MAX:  32 }, // matrix\n\t\t{ REGULAR:  24, MIN:  12, MAX:  80 }, // graph\n\t\t{ REGULAR: 120, MIN: 120, MAX: 120 }  // detail\n\t],\n\t//MAX_SIZE = 256,\n\t//MIN_SIZE = 16,\n\tLIST_MIN_HEIGHT = 100;\nlet\n\tcount = 0;\n\n/* Star class\n * 星に見立てたデータセットを表すノードクラス\n * @param param object\n * \n */\nexport default class Star {\n\n\tconstructor(_elm, _data) {\n\t\tthis._datasets = __g.app.datasets; // shortcut\n\t\tthis._$ = $(_elm);\n\t\tthis._data = _data;\n\t\tthis._$icon;\n\t\tthis._$h;\n\t\tthis._$tagHalo;\n\t\tthis._$numberOf;\n\t\tthis._id;\n\t\tthis._isInternal; // 寄託されたデータセットか\n\t\tthis._key;\n\t\tthis._size = SIZE[__g.VIEWS.network].REGULAR;\n\t\tthis._tags = [];\n\t\tthis._matrix = {\n\t\t\trows: []\n\t\t};\n\t\tthis._mouseDownPosition;\n\n\t\t// initialize\n\t\tconst\n\t\t\t_d3 = d3.select(_elm),\n\t\t\t_order = count++,\n\t\t\t_radius = (2 * Math.PI) * (_order / __g.app.datasets.noOfDatasets());\n\t\tthis._id = _d3.datum().key;\n\t\tthis._isInternal = _d3.datum().isInternal; // 寄託されたデータセットか\n\t\tthis._key = this._isInternal ? this._id : __g.app.xrefs[this._id].key;\n\t\tif (this._isInternal) { // 寄託データベースの場合\n\t\t\tthis._$\n\t\t\t\t.addClass('star' + ((() => {\n\t\t\t\t\tlet tagClass = '';\n\t\t\t\t\tfor (let i = 0; i < this._datasets.tags.noOf(this._id); i++) {\n\t\t\t\t\t\ttagClass += ` tag-${_sanitizeTag( this._datasets.tags.tag(this._id, i).en )}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn tagClass;\n\t\t\t\t})()))\n\t\t\t\t.attr('data-provided-as', this._datasets.providedAs(this._id))\n\t\t\t\t.append(\n\t\t\t\t\t'<div class=\"icon\">' +\n\t\t\t\t\t\t'<div class=\"body\"></div>' +\n\t\t\t\t\t\t'<div class=\"tag-halo\"></div>' +\n\t\t\t\t\t\t(this._datasets.reviewed(this._id) === 'reviewed' ? '<div class=\"reviewed-icon\"></div>' : '') +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t(() => {\n\t\t\t\t\t\tvar title = this._datasets.title(this._id), html = '';\n\t\t\t\t\t\tfor (var i in title) {\n\t\t\t\t\t\t\thtml += _html('h2', { title: title[i], lang: i }, title[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn html;\n\t\t\t\t\t})() +\n\t\t\t\t\t'<p class=\"number-of\"><span class=\"numeral\"></span><small></small></p>'\n\t\t\t\t)\n\t\t\t\t.css({\n\t\t\t\t\tleft: window.innerWidth * 0.5 + Math.cos(_radius) * OPENING_RADIAL,\n\t\t\t\t\ttop: window.innerHeight * 0.5 + Math.sin(_radius) * OPENING_RADIAL\n\t\t\t\t})\n\t\t\t\t.attr('data-id', this._id);\n\t\t\t// 参照\n\t\t\tthis._$icon = $('.icon', this._$).on('click', () => {\n\t\t\t\tthis._$.trigger('mouseleave');\n\t\t\t\t__g.app.selectedStar(this._id);\n\t\t\t});\n\t\t\tthis._$h = $('h2', this._$);\n\t\t\tthis._$tagHalo = this._$icon.find('.tag-halo');\n\t\t\tthis._$numberOf = $('.number-of', this._$);\n\t\t\t// リンク情報の付与\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < this._datasets.connectedDatasetIds.noOf(this._id); i++) {\n\t\t\t\tthis._$.addClass( 'to-' + this._datasets.connectedDatasetIds.id(this._id, i) );\n\t\t\t}\n\t\t\tfor (i = 0; i < this._datasets.xref.noOf(this._id); i++) {\n\t\t\t\tthis._$.addClass( 'to-' + __g.app.xrefs[this._datasets.xref.title(this._id, i)].key );\n\t\t\t}\n\t\t\t// logotype\n\t\t\tnew StarImage(this._id, this._$, () => { __g.app.appPrepareDecrement(); });\n\t\t\t// tag\n\t\t\tfor (i = 0; i < this._datasets.tags.noOf(this._id); i++) {\n\t\t\t\tthis._tags.push( _sanitizeTag( this._datasets.tags.tag(this._id, i).en ) );\n\t\t\t}\n\t\t} else { // 外部データベースの場合\n\t\t\tthis._$\n\t\t\t\t.addClass('star xref')\n\t\t\t\t.append('<div class=\"icon\"></div><h2>' + this._id + '</h2>' );\n\t\t\tthis._$icon = $('.icon', this._$);\n\t\t\tfor (var i = 0; i < __g.app.xrefs[this._id].connectedDatasets.length; i++) {\n\t\t\t\tthis._$.addClass( 'to-' + __g.app.xrefs[this._id].connectedDatasets[i].connectedDatasetId );\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// ノードのサイズ\n\t_sizing(sizing) {\n\t\tvar number, denominator, currentView = __g.app.currentView, size = SIZE[currentView];\n\t\tsizing = sizing === undefined ? __g.controlPanel.kindOfScaling() : sizing;\n\t\tif (sizing === 'None') { // サイジング無指定の場合は、固定の幅\n\t\t\tthis._size = size.REGULAR;\n\t\t\tthis._$numberOf.text('');\n\t\t} else { // サイジングが指定されている場合は、サイズを最大値から割り出す\n\t\t\tswitch (sizing) {\n\t\t\t\tcase 'Classes':\n\t\t\t\t\tnumber = __g.app.datasets.noOfClasses(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.class;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Instances':\n\t\t\t\t\tnumber = __g.app.datasets.noOfInstances(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.instance;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Literals':\n\t\t\t\t\tnumber = __g.app.datasets.noOfLiterals(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.literal;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Objects':\n\t\t\t\t\tnumber = __g.app.datasets.noOfObjects(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.object;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Properties':\n\t\t\t\t\tnumber = __g.app.datasets.noOfProperties(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.property;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Subjects':\n\t\t\t\t\tnumber = __g.app.datasets.noOfSubjects(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.subject;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Triples':\n\t\t\t\t\tnumber = __g.app.datasets.noOfTriples(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.triple;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._size = this._isInternal ? size.MIN + (size.MAX - size.MIN) * (Math.sqrt(number) / denominator) : size.MIN;\n\t\t\tthis._$numberOf.html(`\n\t\t\t\t<span class=\"numeral\">${number.toLocaleString()}</span>\n\t\t\t\t<small>${sizing.toLowerCase()}</small>\n\t\t\t`);\n\t\t}\n\t\tthis._$icon.css({\n\t\t\twidth: this._size,\n\t\t\theight: this._size\n\t\t});\n\t\tswitch (currentView) {\n\t\t\tcase __g.VIEWS.graph: {\n\t\t\t\tthis._$h.css('top', this._size * 0.5 + 6);\n\t\t\t\tthis._$numberOf.css('top', this._size * 0.5 + 18);\n\t\t\t}\n\t\t}\n\n\t} // function _sizing\n\n\t// ビューの変更\n\tchangeView(/*kindOfView, currentStarId*/) {\n\t\t// 形状のリセット\n\t\tif (this._isInternal) {\n\t\t\tthis._$.stop(true, true);\n\t\t\tthis._$icon.css({ width: '', height: '', marginLeft: '', marginTop: '' });\n\t\t\tthis._$h.css({ top: '' });\n\t\t}\n\t}\n\n\tprepareHomeView() {\n\t}\n\n\tprepareListView(order, top, delegate) {\n\t\t\n\t\tvar height = 0, hidden = true,\n\t\t\t\ttags = __g.controlPanel.selectedFilteringTags();\n\n\t\tif (this._isInternal) { // 寄託データベースの場合\n\n\t\t\t// filtering\n\t\t\tfor (let i = 0; i < this._tags.length; i++) {\n\t\t\t\tif (\n\t\t\t\t\ttags.indexOf(this._tags[i]) !== -1 && \n\t\t\t\t\t(__g.controlPanel.providedAsFilter() === 'all' ||\n\t\t\t\t\t__g.controlPanel.providedAsFilter() === 'original' &&\n\t\t\t\t\tthis._datasets.providedAs(this._id) === 'original')\n\t\t\t\t\t) {\n\t\t\t\t\thidden = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hidden) {\n\t\t\t\tthis._$.addClass('hidden');\n\t\t\t\treturn height;\n\t\t\t}\n\t\t\tthis._$.removeClass('hidden');\n\n\t\t\t// size\n\t\t\tthis._sizing();\n\n\t\t\t// layout\n\t\t\theight = this._size < LIST_MIN_HEIGHT ? LIST_MIN_HEIGHT : this._size;\n\t\t\tthis._$.animate({\n\t\t\t\ttop: top + height * 0.5,\n\t\t\t\tleft: ListViewController.ORIGIN.X\n\t\t\t}, {\n\t\t\t\tduration: __g.DURATION + order * 100,\n\t\t\t\teasing: 'easeInOutSine',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis._$.addClass('placed');\n\t\t\t\t\t// make information\n\t\t\t\t\tif (this._$.children('.appendix.list-view').length === 0) { // ディティールがない場合生成\n\t\t\t\t\t\tthis._$.append(\n\t\t\t\t\t\t\t'<div class=\"appendix list-view\">' +\n\t\t\t\t\t\t\t\t_MLHtml('p', { class: 'description' }, this._datasets.description(this._id)) + \n\t\t\t\t\t\t\t\t_html('ul', { class: 'tags' },\n\t\t\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\t\t\tvar html = '', i, tag1, tag2;\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < this._datasets.tags.noOf(this._id); i++) {\n\t\t\t\t\t\t\t\t\t\t\ttag1 = this._datasets.tags.tag(this._id, i);\n\t\t\t\t\t\t\t\t\t\t\ttag2 = _sanitizeTag(tag1.en);\n\t\t\t\t\t\t\t\t\t\t\thtml += _MLHtml('li', { class: 'tag-' + tag2, 'data-tag': tag2 }, tag1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn html;\n\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t_html('div', { class: 'left-element' },\n\t\t\t\t\t\t\t\t\t_html('p', { class: 'number-of-triples' },\n\t\t\t\t\t\t\t\t\t\t_numeral(this._datasets.noOfTriples(this._id).toLocaleString()) + '<small>triples</small>'\n\t\t\t\t\t\t\t\t\t) + \n\t\t\t\t\t\t\t\t\t_html('p', { class: 'last-update' }, this._datasets.issued(this._id)) + \n\t\t\t\t\t\t\t\t\t_html('p', { class: 'institution' }, _MLHtml(this._datasets.dataProvider(this._id)))\n\t\t\t\t\t\t\t\t) + \n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._$.find('ul.tags').find('li').on('click', () => {\n\t\t\t\t\t\t\t__g.controlPanel.selectFilteringTag(this.dataset.tag);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tdelegate.placedStar();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn height;\n\t}\n\n\tprepareLeaveFromListView() {\n\t\tthis._$.removeClass('placed');\n\t}\n\n\tprepareMatrixView(order, delegate) {\n\t\tconst top = MatrixViewController.ORIGIN.Y + (order * MatrixViewController.CELL.HEIGHT);\n\t\tthis._$\n\t\t\t.addClass('placing')\n\t\t\t.animate({\n\t\t\t\tleft: 96,\n\t\t\t\ttop: top + MatrixViewController.CELL.HEIGHT * 0.5\n\t\t\t}, {\n\t\t\t\tduration: __g.DURATION + order * 100,\n\t\t\t\teasing: 'easeInOutSine',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tdelegate.placedStar();\n\t\t\t\t\tthis._$.removeClass('placing');\n\t\t\t\t}\n\t\t\t});\n\t\tthis._matrix.rows = $('#matrix-body').find('.id-' + this._id).css({\n\t\t\ttop: top\n\t\t});\n\t}\n\n\tmatrixReplace(order) {\n\t\tvar properties = {\n\t\t\t\t\ttop: MatrixViewController.ORIGIN.Y + (order * MatrixViewController.CELL.HEIGHT)\n\t\t\t\t},\n\t\t\t\toptions = {\n\t\t\t\t\tduration: __g.DURATION + order * 100,\n\t\t\t\t\teasing: 'easeInOutSine'\n\t\t\t\t};\n\t\tthis._matrix.rows.animate(properties, options);\n\t\tproperties.top += MatrixViewController.CELL.HEIGHT * 0.5;\n\t\tthis._$.animate(properties, options);\n\t}\n\n\tprepareGraphView() {\n\n\t\t// 星をホバーすると関連する星が浮かび上がる\n\t\tthis._$.on({\n\t\t\t'mouseenter.graphView': () => {\n\t\t\t\t__g.app.$main.addClass(__g.CLASS.STAR_HOVERING);\n\t\t\t\t$('.to-' + this._key, __g.app.$stars).addClass(__g.CLASS.CONNECTED_STAR_HOVERING);\n\t\t\t\t__g.d3.edges.selectAll('.to-' + this._key + ', .from-' + this._key).classed(__g.CLASS.CONNECTED_STAR_HOVERING, true);\n\t\t\t},\n\t\t\t'mouseleave.graphView': () => {\n\t\t\t\t__g.app.$main.removeClass(__g.CLASS.STAR_HOVERING);\n\t\t\t\t$('.' + __g.CLASS.CONNECTED_STAR_HOVERING, __g.app.$stars).removeClass(__g.CLASS.CONNECTED_STAR_HOVERING);\n\t\t\t\t__g.d3.edges.selectAll('.' + __g.CLASS.CONNECTED_STAR_HOVERING).classed(__g.CLASS.CONNECTED_STAR_HOVERING, false);\n\t\t\t}\n\t\t});\n\n\t\tif (this._isInternal) { // 寄託データベースの場合\n\t\t\tthis._sizing();\n\t\t\tthis.receiveNotificationChangeTagMarker( __g.controlPanel.selectedMarkedTag() );\n\t\t\t// コンパネのタグにマウスが当たると、同じタグを持つ星がハイライト\n\t\t\t__g.app.addNotificationObserver('change-marker-tag', this, this.receiveNotificationChangeTagMarker);\n\t\t} else { // 外部データベースの場合\n\t\t\tthis._size = SIZE[__g.VIEWS.network].MIN;\n\t\t\tthis._$.on({\n\t\t\t\t// drag すると mouseenter が効かなくなる\n\t\t\t\t//'mousedown.graphView': function(e) {\n\t\t\t\t//\tconsole.log(e)\n\t\t\t\t//\tthis._mouseDownPosition = { x: e.clientX, y: e.clientY };\n\t\t\t\t//},\n\t\t\t\t//'mouseup': e => {\n\t\t\t\t//\tconsole.log(this._mouseDownPosition)\n\t\t\t\t//\tif (Math.abs(this._mouseDownPosition.x - e.clientX) < 2 && Math.abs(this._mouseDownPosition.y - e.clientY) < 2) {\n\t\t\t\t//\t\twindow.open(__g.app.xrefs[this._id].connectedDatasets[0].uri); \n\t\t\t\t//\t}\n\t\t\t\t//}\n\t\t\t\tclick: () => {\n\t\t\t\t\twindow.open(__g.app.xrefs[this._id].connectedDatasets[0].uri); \n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprepareLeaveFromGraphView() {\n\t\tthis._$.off('mouseenter.graphView mouseleave.graphView');\n\t\tif (this._isInternal) {\n\t\t\tthis._sizing();\n\t\t\t__g.app.removeNotificationObserver('change-marker-tag', this);\n\t\t\tthis._$.removeClass(__g.CLASS.TAG_HOVERING);\n\t\t} else {\n\t\t\tthis._$.off('mousedown.graphView mouseup.graphView');\n\t\t}\n\t}\n\n\treceiveNotificationChangeTagMarker(param) {\n\t\tif (this._tags.indexOf(param.tag) !== -1) {\n\t\t\tthis._$.addClass(__g.CLASS.TAG_HOVERING);\n\t\t\tthis._$tagHalo.css('background-color', param.color);\n\t\t} else {\n\t\t\tthis._$.removeClass(__g.CLASS.TAG_HOVERING);\n\t\t}\n\t}\n\n\tprepareDetailView(currentStarId) {\n\t\tif (currentStarId === this._id) {\n\t\t\t// 当該スターであった場合の処理\n\t\t\tthis._$\n\t\t\t\t.addClass('selected')\n\t\t\t\t.animate({\n\t\t\t\t\tleft: DetailViewController.ORIGIN.X,\n\t\t\t\t\ttop: DetailViewController.ORIGIN.Y\n\t\t\t\t}, {\n\t\t\t\t\tduration: __g.DURATION * 2,\n\t\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis._$.css({\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tleft: DetailViewController.ORIGIN.X - DetailViewController.OFFSET.X,\n\t\t\t\t\t\t\ttop: DetailViewController.ORIGIN.Y - DetailViewController.OFFSET.Y\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\t// 当該スターでなかった場合の処理\n\t\t\tthis._$.removeClass('selected');\n\t\t}\n\t}\n\n\tprepareLeaveFromDetailView() {\n\t\tif (this._$.hasClass('selected')) {\n\t\t\tvar position = this._$.position();\n\t\t\tthis._$.css({\n\t\t\t\tposition: '',\n\t\t\t\tleft: position.left + DetailViewController.OFFSET.X,\n\t\t\t\ttop: position.top + DetailViewController.OFFSET.Y\n\t\t\t});\n\t\t}\n\t}\n\n\t// 化身がクリックされた際に呼ばれ、ディティールビューに遷移\n\tclickedAlias(elm) {\n\t\tvar $icon = $('.icon', elm),\n\t\t\t\twidth = $icon.width();\n\t\tthis._$.css({\n\t\t\tleft: elm.offsetLeft + width * 0.5,\n\t\t\ttop: elm.offsetTop + width * 0.5\n\t\t});\n\t\tthis._$icon.trigger('click');\n\t}\n\n\t// accessor\n\tget size() {\n\t\treturn this._size;\n\t}\n\n} // ********** end of Star class\n","/* global $, page, d3 */\n\nimport {isDebug, $w, __g} from './global.js';\nimport HomeViewController from './HomeViewController.js';\nimport ListViewController from './ListViewController.js';\nimport MatrixViewController from './MatrixViewController.js';\nimport GraphViewController from './GraphViewController.js';\nimport ManualViewController from './ManualViewController.js';\nimport GuidelineViewController from './GuidelineViewController.js';\nimport ChangeLogViewController from './ChangeLogViewController.js';\nimport DetailViewController from './DetailViewController.js';\nimport Datasets from './Datasets.js';\nimport ViewLabel from './ViewLabel.js';\nimport ControlPanel from './ControlPanel.js';\nimport Star from './Star.js';\n\nconst\n\t_MAIN_VIEW_LEFT = 60,\n\t_MAIN_VIEW_RIGHT = 0,\n\t_MAIN_VIEW_TOP = 10,\n\t_MAIN_VIEW_BOTTOM = 10;\n\n/* RDF Portal class\n * 当ウェブアプリの全体を司るクラス\n * グローバルに参照できるようにする\n * \n */\nexport default class RDFPortal {\n\n\tconstructor() {\n\t\tthis._appPrepareCounter = 0;\n\t\tthis._currentView = -1;\n\t\tthis._currentStarId;\n\t\tthis._notifications = {};\n\t\tthis._homeViewController;\n\t\tthis._listViewController;\n\t\tthis._matrixViewController;\n\t\tthis._graphViewController;\n\t\tthis._manualViewController;\n\t\tthis._guidelineViewController;\n\t\tthis._changeLogViewController;\n\t\tthis._detailViewController;\n\t\tthis._$navButtons;\n\t\tthis._isChanging = false;\n\t\tthis._changeId;\n\n\t\t// デバッグモード\n\t\tif (isDebug) {\n\t\t\t// force 用のコンソール\n\t\t\t$('.stars').after(`\n\t\t\t\t<section id=\"force-layout-console\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">linkDistance</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-linkDistance\" data-key=\"linkDistance\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">linkStrength</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-linkStrength\" data-key=\"linkStrength\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">friction</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-friction\" data-key=\"friction\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">charge</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-charge\" data-key=\"charge\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">chargeDistance</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-chargeDistance\" data-key=\"chargeDistance\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">theta</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-theta\" data-key=\"theta\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">gravity</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-gravity\" data-key=\"gravity\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</section>\n\t\t\t`);\n\t\t}\n\n\t}\n\n\t// アプリの開始\n\t_startApp() {\n\t\tconst urlParameter = {};\n\n\t\t// ロゴ色の取得\n\t\t//$.adaptiveBackground.run();\n\n\t\t// URL パラメータからページ状態の復帰\n\t\turlParameter.view = window.location.pathname ? window.location.pathname.substr(1) : 'home';\n\n\t\t// ビューの特定\n\t\tif (urlParameter.id) {\n\t\t\tthis._currentStarId = urlParameter.id;\n\t\t}\n\n\t\t// ルーター\n\t\tpage(__g.rootPath + 'dataset/:id', this.routeDetail.bind(this));\n\t\tpage(__g.rootPath + 'documents/:id', this.routeDocuments.bind(this));\n\t\tpage(__g.rootPath + ':pagetype', this.route.bind(this));\n\t\tpage(__g.rootPath + '', this.route.bind(this));\n\t\tpage.start();\n\t\t\n\t\t// スプラッシュスクリーンの消失\n\t\t$('#splash-screen').addClass('vanish').delay(3000).queue(function(){\n\t\t\t$(this).remove();\n\t\t});\n\t\t//change-log 更新内容\n\t\t//キャッシュしない\n\t\t$.ajaxSetup({\n\t\t  cache: false\n\t\t});\n\t}\n\n\t// notification\n\taddNotificationObserver(notificationName, observer, functionObj) {\n\t\tif (!this._notifications[notificationName]) {\n\t\t\tthis._notifications[notificationName] = [];\n\t\t}\n\t\tvar isMatch = false;\n\t\tfor (var i = 0; i < this._notifications[notificationName].length; i++) {\n\t\t\tvar notification = this._notifications[notificationName][i];\n\t\t\tif (notification.observer === observer) {\n\t\t\t\tisMatch = true;\n\t\t\t}\n\t\t}\n\t\tif (!isMatch) {\n\t\t\tthis._notifications[notificationName].push({\n\t\t\t\tobserver: observer,\n\t\t\t\tfunction: functionObj\n\t\t\t});\n\t\t}\n\t}\n\tremoveNotificationObserver(notificationName, observer) {\n\t\tif (this._notifications[notificationName]) {\n\t\t\tfor (var i = 0; i < this._notifications[notificationName].length; i++) {\n\t\t\t\tvar notification = this._notifications[notificationName][i];\n\t\t\t\tif (notification.observer === observer) {\n\t\t\t\t\tthis._notifications[notificationName].splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tpostNortification(notificationName, val) {\n\t\tif (this._notifications[notificationName]) {\n\t\t\tfor (var i = 0; i < this._notifications[notificationName].length; i++) {\n\t\t\t\tconst notification = this._notifications[notificationName][i];\n\t\t\t\tnotification.function.call(notification.observer, val);\n\t\t\t}\n\t\t}\n\t}\n\n\t// accessor\n\tget currentStarId() { return this._currentStarId; }\n\tget currentView() { return this._currentView; }\n\tisChanging() { return this._isChanging; }\n\n\t// ロゴ画像が読み込まれるとデクリメント\n\tappPrepareDecrement() {\n\t\tthis._appPrepareCounter--;\n\t\tif (this._appPrepareCounter === 0) {\n\t\t\tthis._startApp();\n\t\t}\n\t}\n\n\t// ビューの変更\n\tchangeView(kindOfView, params) {\n\n\t\t// 変更中であれば無効\n\t\tif (this._isChanging) return;\n\n\t\tconst labelOfView = __g.VIEWS_NAME[kindOfView];\n\t\tif (labelOfView === __g.VIEWS_NAME[__g.VIEWS.dataset]) {\n\t\t\t// dataset ページの場合\n\t\t\tpage(`${__g.rootPath}${labelOfView}/${params.id}`);\n\t\t} else if(labelOfView === 'home') {\n\t\t\t// home ページの場合\n\t\t\tpage(`${__g.rootPath}`);\n\t\t} else {\n\t\t\t// それ以外の場合\n\t\t\tpage(`${__g.rootPath}${labelOfView}`);\n\t\t}\n\t}\n\tchanged(id, height) {\n\t\tif (this._changeId === id) {\n\t\t\tthis._isChanging = false;\n\t\t\t$w.trigger('resize');\n\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: 0\n\t\t\t\t}, {\n\t\t\t\t\tduration: 200\n\t\t\t\t});\n\t\t\tthis.$main.css('height', height);\n\t\t}\n\t}\n\n\t// router\n\trouteDetail(context, next) {\n\t\tthis._currentStarId = context.params.id; // 現在 dataset view で指しているページの定義\n\t\tthis.render(__g.VIEWS_NAME.indexOf('dataset'), context.params);\n\t}\n\trouteDocuments(context, next) {\n\t\tthis.render(__g.VIEWS_NAME.indexOf('documents'), context.params);\n\t}\n\troute(context, next) {\n\t\tlet kindOfView = __g.VIEWS_NAME.indexOf(context.params.pagetype);\n\t\tkindOfView = kindOfView === -1 || context.params.pagetype === 'dataset' ? 0 : kindOfView;\n\t\tthis.render(kindOfView);\n\t}\n\trender(kindOfView, params) {\n\t\tif (\n\t\t\tkindOfView === __g.VIEWS.dataset ||\n\t\t\tkindOfView === __g.VIEWS.documents ||\n\t\t\tkindOfView !== this._currentView) {\n\n\t\t\t// 現状のビューの終了\n\t\t\tif (this._currentView !== -1) {\n\t\t\t\tswitch (this._currentView) {\n\t\t\t\t\tcase __g.VIEWS.home: this._homeViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.datasets: this._listViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.statistics: this._matrixViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.network: this._graphViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.documents: this._manualViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.guideline: this._guidelineViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.changeLog: this._changeLogViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.dataset: this._detailViewController.hide(); break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ビューの変更\n\t\t\tthis._currentView = kindOfView;\n\t\t\t// スクリーンに属性付与\n\t\t\t$('body').attr('data-kind-of-view', __g.VIEWS_NAME[kindOfView]);\n\t\t\tthis.$main.attr('data-kind-of-view', __g.VIEWS_NAME[kindOfView]);\n\t\t\t// 星たちに通知\n\t\t\tthis.stars.forEach((star) => {\n\t\t\t\tstar.changeView(kindOfView, this.currentStarId);\n\t\t\t});\n\t\t\t// コンパネに通知\n\t\t\t//__g.controlPanel.changeView(kindOfView);\n\t\t\t// navigation\n\t\t\tthis.viewLabel.changeLable(__g.VIEWS_LABEL[this._currentView]);\n\t\t\t//_$navLabel.text( __g.VIEWS_LABEL[this._currentView] );\n\t\t\tthis._$navButtons.each(function(){\n\t\t\t\tthis.className = this.getAttribute('data-kind-of-view') === __g.VIEWS_NAME[kindOfView] ? 'current' : '';\n\t\t\t});\n\t\t\t// ビュー管理用関数の呼び出し\n\t\t\tswitch (kindOfView) {\n\t\t\t\tcase __g.VIEWS.home:\n\t\t\t\t\t//this._homeViewController.show();\n\t\t\t\t\tthis.currentViewController = this._homeViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.datasets:\n\t\t\t\t\tthis.currentViewController = this._listViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.statistics:\n\t\t\t\t\tthis.currentViewController = this._matrixViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.network:\n\t\t\t\t\tthis.currentViewController = this._graphViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.documents:\n\t\t\t\t\tthis.currentViewController = this._manualViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.guideline:\n\t\t\t\t\tthis.currentViewController = this._guidelineViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.changeLog:\n\t\t\t\t\tthis.currentViewController = this._changeLogViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.dataset:\n\t\t\t\t\tthis.currentViewController = this._detailViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.currentViewController = null;\n\t\t\t\t\twindow.console.log('該当する画面がありません: ', __g.VIEWS_LABEL[kindOfView] );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.currentViewController.show(params);\n\t\t\t// 遷移状態に\n\t\t\tthis._isChanging = true;\n\t\t\tthis._changeId = this._currentView;\n\t\t}\n\t\t\n\t}\n\n\t// スターの選択\n\tselectedStar(id) {\n\t\tif (__g.app.currentView !== __g.VIEWS.dataset |this.currentStarId !== id) {\n\t\t\t// ビューの変更\n\t\t\tthis.changeView(__g.VIEWS.dataset, { id: id });\n\t\t}\n\t}\n\n\t// JSON読み込み後、初期化\n\tinit(data) {\n\t\tconst self = this;\n\t\tvar id, ids, idIndices = {}, i, j, newStyle,\n\t\t\t\tscreenWidth, screenHeight;\n\n\t\tthis.$main = $('main#main-view');\n\t\tthis.$stars = this.$main.children('.stars');\n\t\tthis.$star = undefined;\n\t\tthis.viewLabel = new ViewLabel();\n\t\tthis.$offScreenCanvas = $('main#main-view');\n\t\tthis.language = __g.userDefaults.misc.language;\n\t\tthis.datasets = new Datasets(data);\n\t\tthis.mainView = {\n\t\t\tcenter: { x: 0, y: 0 },\n\t\t\tsize: { width: 0, height: 0 }\n\t\t};\n\t\tthis.stars = [];\n\t\tthis.starsWithKeys = {};\n\t\tthis.xrefs = {};\n\t\tthis.currentViewController = undefined;\n\t\tthis.maxValue = {\n\t\t\tclass: 0,\n\t\t\tinstance: 0,\n\t\t\tliteral: 0,\n\t\t\tobject: 0,\n\t\t\tproperty: 0,\n\t\t\tsubject: 0,\n\t\t\ttriple: 0\n\t\t};\n\t\tthis._appPrepareCounter = this.datasets.noOfDatasets() + 1;\n\n\t\t// Stylesheet\n\t\tnewStyle = document.createElement('style');\n\t\tnewStyle.type = 'text/css';\n\t\tdocument.getElementsByTagName('head').item(0).appendChild(newStyle);\n\t\t__g.styleSheet = document.styleSheets[document.styleSheets.length - 1];\n\n\t\t// SVG\n\t\t__g.d3.edges = __g.d3.svg.append('g').attr('class', 'edges');\n\n\t\t// 各ビューのコントローラ生成\n\t\tthis._homeViewController = new HomeViewController();\n\t\tthis._listViewController = new ListViewController();\n\t\tthis._matrixViewController = new MatrixViewController();\n\t\tthis._graphViewController = new GraphViewController();\n\t\tthis._manualViewController = new ManualViewController();\n\t\tthis._guidelineViewController = new GuidelineViewController();\n\t\tthis._changeLogViewController = new ChangeLogViewController();\n\t\tthis._detailViewController = new DetailViewController();\n\t\tthis.currentViewController = this._homeViewController;\n\n\t\t// ナビゲーション：ビュー切り替え\n\t\tthis._$navButtons = $('#global-navigation').children('ul').children('li[data-kind-of-view]')\n\t\t\t.on('click', e => {\n\t\t\t\tconst kindOfView = e.delegateTarget.getAttribute('data-kind-of-view');\n\t\t\t\tthis.changeView( __g.VIEWS_NAME.indexOf(kindOfView) );\n\t\t\t});\n\t\t// ナビゲーション：ロケール切り替え\n\t\t$('#language-switch').find('li').on('click', e => {\n\t\t\t$('html').attr('lang', e.delegateTarget.getAttribute('data-lang'));\n\t\t\tthis.language = e.delegateTarget.getAttribute('data-lang');\n\t\t\t__g.userDefaults.misc.language = this.language;\n\t\t});\n\t\t$('#language-switch').find('li[data-lang=\"' + this.language + '\"]').trigger('click');\n\n\t\t// コンソールパネル\n\t\t__g.controlPanel = new ControlPanel();\n\n\t\t// データセットの基本情報の取得\n\t\tids = this.datasets.ids();\n\t\tfor (i = 0; i < ids.length; i++) {\n\t\t\tid = ids[i];\n\t\t\tvar keys = {\n\t\t\t\tclass: 'noOfClasses',\n\t\t\t\tinstance: 'noOfInstances',\n\t\t\t\tliteral: 'noOfLiterals',\n\t\t\t\tobject: 'noOfObjects',\n\t\t\t\tproperty: 'noOfProperties',\n\t\t\t\tsubject: 'noOfSubjects',\n\t\t\t\ttriple: 'noOfTriples'\n\t\t\t};\n\t\t\tfor (j in keys) {\n\t\t\t\tthis.maxValue[j] = (this.maxValue[j] < this.datasets[keys[j]](id)) ? this.datasets[keys[j]](id) : this.maxValue[j];\n\t\t\t}\n\t\t}\n\t\tfor (i in this.maxValue) {\n\t\t\tthis.maxValue[i] = Math.sqrt(this.maxValue[i]);\n\t\t}\n\n\t\t// メインビューの矩形定義\n\t\t$w\n\t\t\t.on('resize.mainViewControl', () => { // ウインドウサイズの変動でメインビューをリサイズ\n\t\t\t\tthis.mainView.size.height = $w.innerHeight() - _MAIN_VIEW_TOP - _MAIN_VIEW_BOTTOM;\n\t\t\t\tthis.mainView.size.width = $w.innerWidth() - _MAIN_VIEW_LEFT - _MAIN_VIEW_RIGHT;\n\t\t\t\tthis.$main.css({\n\t\t\t\t\theight: this.mainView.size.height,\n\t\t\t\t\twidth: this.mainView.size.width\n\t\t\t\t});\n\t\t\t\t// SVG\n\t\t\t\t__g.d3.svg\n\t\t\t\t\t.attr('width', this.mainView.size.width - __g.SVG_MARGIN_LEFT)\n\t\t\t\t\t.attr('height', this.mainView.size.height);\n\t\t\t\tif (__g.d3.force) {\n\t\t\t\t\t__g.d3.force\n\t\t\t\t\t\t.force('center', d3.forceCenter(this.mainView.size.width * 0.5, this.mainView.size.height * 0.5))\n\t\t\t\t\t\t.restart();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.trigger('resize.mainViewControl');\n\n\t\t// force layout\n\t\t{\n\t\t\t// ノードの生成\n\t\t\tfor (i = 0; i < ids.length; i++) {\n\t\t\t\tid = ids[i];\n\t\t\t\t__g.d3.nodesData.push({ key: id, isInternal: true });\n\t\t\t\t// クロスリファレンスの抽出\n\t\t\t\tfor (j = 0; j < this.datasets.xref.noOf(id); j++) {\n\t\t\t\t\tvar title = this.datasets.xref.title(id, j);\n\t\t\t\t\tif (!this.xrefs[title]) {\n\t\t\t\t\t\tthis.xrefs[title] = {\n\t\t\t\t\t\t\tkey: title.replace(/\\s/g, '_'),\n\t\t\t\t\t\t\tconnectedDatasets: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\t__g.d3.nodesData.push({ key: title, isInternal: false });\n\t\t\t\t\t}\n\t\t\t\t\tthis.xrefs[title].connectedDatasets.push({\n\t\t\t\t\t\tconnectedDatasetId: id,\n\t\t\t\t\t\turi: this.datasets.xref.uri(id, j),\n\t\t\t\t\t\tnumberOfTriples: this.datasets.xref.noOfTriples(id, j),\n\t\t\t\t\t\ttype: this.datasets.xref.type(id, j)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// D3\n\t\t\t__g.d3.nodesSelection = d3.select('main#main-view div.stars').selectAll('div.star')\n\t\t\t\t.data(__g.d3.nodesData)\n\t\t\t\t.enter()\n\t\t\t\t.append('div');\n\t\t\t__g.d3.nodesSelection.each(function(data){\n\t\t\t\tvar star = new Star(this, data);\n\t\t\t\tself.stars.push(star); // 各スター（ノード）を保持る配列\n\t\t\t\tdata.star = star;\n\t\t\t\tself.starsWithKeys[ data.key ] = star; // 各スター（ノード）を保持る連想配列\n\t\t\t});\n\t\t\t// jQuery\n\t\t\tthis.$star = $('main#main-view').children('.stars').children('.star');\n\n\t\t\t// リンク（エッジ）の生成\n\t\t\tfor (i = 0; i < __g.d3.nodesData.length; i++) {\n\t\t\t\tidIndices[__g.d3.nodesData[i].key] = i; // ノードIDの並び順をキーバリュー形式で格納\n\t\t\t}\n\t\t\tfor (i = 0; i < __g.d3.nodesData.length; i++) {\n\t\t\t\tid = __g.d3.nodesData[i].key;\n\t\t\t\tvar connectedId;\n\t\t\t\tif (__g.d3.nodesData[i].isInternal) {\n\t\t\t\t\t// 内部リンク\n\t\t\t\t\tfor (j = 0; j < this.datasets.connectedDatasetIds.noOf(id); j++) {\n\t\t\t\t\t\tconnectedId = this.datasets.connectedDatasetIds.id(id, j);\n\t\t\t\t\t\t__g.d3.linksData.push({\n\t\t\t\t\t\t\tsource: i,\n\t\t\t\t\t\t\ttarget: idIndices[connectedId],\n\t\t\t\t\t\t\tsourceId: id,\n\t\t\t\t\t\t\ttargetId: connectedId,\n\t\t\t\t\t\t\tnumberOfTriples: this.datasets.connectedDatasetIds.noOfTriple(id, j),\n\t\t\t\t\t\t\ttype: this.datasets.connectedDatasetIds.type(id, j)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 外部リンク\n\t\t\t\t\tfor (j = 0; j < this.xrefs[id].connectedDatasets.length; j++) {\n\t\t\t\t\t\tconnectedId = this.xrefs[id].connectedDatasets[j].connectedDatasetId;\n\t\t\t\t\t\t__g.d3.linksData.push({\n\t\t\t\t\t\t\tsource: i,\n\t\t\t\t\t\t\ttarget: idIndices[connectedId],\n\t\t\t\t\t\t\tsourceId: this.xrefs[id].key,\n\t\t\t\t\t\t\ttargetId: connectedId,\n\t\t\t\t\t\t\tnumberOfTriples: this.xrefs[id].connectedDatasets[j].numberOfTriples,\n\t\t\t\t\t\t\ttype: this.xrefs[id].connectedDatasets[j].type\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// D3\n\t\t\t__g.d3.linksSelection = __g.d3.edges.selectAll('.link')\n\t\t\t\t.data(__g.d3.linksData)\n\t\t\t\t.enter()\n\t\t\t\t.append('line');\n\t\t\t__g.d3.linksSelection.each(function(){ // エッジをトリプル数により強度をつける\n\t\t\t\tvar d3This = d3.select(this),\n\t\t\t\t\t\tdatum = d3This.datum(),\n\t\t\t\t\t\tratio = Math.log(datum.numberOfTriples) / Math.log(self.maxValue.triple),\n\t\t\t\t\t\topacity = 0.1 + 0.9 * ratio,\n\t\t\t\t\t\twidth = 1 + 0.5 * ratio,\n\t\t\t\t\t\tclassed = 'from-' + datum.sourceId + ' to-' + datum.targetId;\n\t\t\t\tthis.style.stroke = 'rgba(255, 255, 255, ' + opacity + ')';\n\t\t\t\tthis.style.strokeWidth = width;\n\t\t\t\td3This.classed( 'edge ' + classed, true );\n\t\t\t\t// triple number\n\t\t\t\tthis.d3NumberOfTriples = __g.d3.edges.append('text')\n\t\t\t\t\t.classed(classed, true);\n\t\t\t\tthis.d3NumberOfTriples.append('tspan')\n\t\t\t\t\t.classed('number-of-triples', true)\n\t\t\t\t\t.text(datum.numberOfTriples.toLocaleString());\n\t\t\t\tif (datum.type) {\n\t\t\t\t\tthis.d3NumberOfTriples.append('tspan')\n\t\t\t\t\t\t.classed('type', true)\n\t\t\t\t\t\t.attr('dx', 5)\n\t\t\t\t\t\t.text(datum.type);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// force layout\n\t\t\tscreenWidth = parseInt(__g.d3.svg.attr('width'));\n\t\t\tscreenHeight = parseInt(__g.d3.svg.attr('height'));\n\t\t\t__g.d3.force = d3.forceSimulation()\n\t\t\t\t//.velocityDecay(0.1) // ノードの速度減衰係数\n\t\t\t\t.alpha(0.0025)\n\t\t\t\t//.alphaDecay(0.9)\n\t\t\t\t.alphaTarget(0)\n\t\t\t\t.force('link', // リンクによるバネ力\n\t\t\t\t\td3.forceLink()\n\t\t\t\t\t\t//.distance(distance) // リンクの長さ\n\t\t\t\t\t\t//.strength(.5) // リンクの強度\n\t\t\t\t\t\t//.iterations() // 計算回数\n\t\t\t\t)\n\t\t\t\t//.force('collide', // ノード間の接触反発力\n\t\t\t\t//\td3.forceCollide()\n\t\t\t\t//\t\t.radius(function(d) { return d.star.size * .5; }) // ノード半径\n\t\t\t\t//\t\t.strength(1.0) // オーバーラップするノード間の反発力 0.0〜1.0\n\t\t\t\t//\t\t.iterations(16) // 計算回数\n\t\t\t\t//)\n\t\t\t\t.force('charge', // ノード間のクーロン力（非接触作用力）\n\t\t\t\t\td3.forceManyBody()\n\t\t\t\t\t\t//.strength(-300) // 正でくっつき、負で離れる\n\t\t\t\t\t\t//.theta() // 精度\n\t\t\t\t\t\t//.distanceMin() // クーロン力を計算する最小距離\n\t\t\t\t\t\t//.distanceMax() // ノード間の最大距離\n\t\t\t\t)\n\t\t\t\t.force('x', // 位置に基づく場の力\n\t\t\t\t\td3.forceX()\n\t\t\t\t\t\t.strength(0.1)\n\t\t\t\t\t\t.x(0) // 中心x座標\n\t\t\t\t)\n\t\t\t\t.force('y', // 位置に基づく場の力\n\t\t\t\t\td3.forceY()\n\t\t\t\t\t\t.strength(0.1)\n\t\t\t\t\t\t.y(0) // 中心y座標\n\t\t\t\t)\n\t\t\t\t//.force('center',\n\t\t\t\t//\td3.forceCenter(screenWidth * 0.5, screenHeight * 0.5)\n\t\t\t\t//);\n\t\t\t// ノード\n\t\t\t__g.d3.force\n\t\t\t\t.nodes(__g.d3.nodesData);\n\t\t\t// エッジ\n\t\t\t__g.d3.force\n\t\t\t\t.force('link')\n\t\t\t\t\t.links(__g.d3.linksData);\n\n\t\t\t// force layout のパラメータ確認用のコンソール\n\t\t\t$('#force-layout-console').find('input')\n\t\t\t\t.each(function(){\n\t\t\t\t\t//this.value = __g.d3.force[this.dataset.key]();\n\t\t\t\t})\n\t\t\t\t.on('change', function(){\n\t\t\t\t\t//__g.d3.force[this.dataset.key]( parseFloat(this.value) ).resume();\n\t\t\t\t});\n\n\t\t\t// ドラッグ可能に\n\t\t\t__g.d3.nodesSelection.call(d3.drag()\n\t\t\t\t.on('start', d => {\n\t\t\t\t\tif(!d3.event.active) __g.d3.force.alphaTarget(0.3).restart();\n\t\t\t\t\td.fx = d.x;\n\t\t\t\t\td.fy = d.y;\n\t\t\t\t})\n\t\t\t\t.on('drag', d => {\n\t\t\t\t\td.fx = d3.event.x;\n\t\t\t\t\td.fy = d3.event.y;\n\t\t\t\t})\n\t\t\t\t.on('end', d => {\n\t\t\t\t\tif(!d3.event.active) __g.d3.force.alphaTarget(0);\n\t\t\t\t\td.fx = null;\n\t\t\t\t\td.fy = null;\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\t// 準備カウンタを1つ減らす\n\t\tthis.appPrepareDecrement();\n\n\t}\n\n} // ********** end of RDFPortal class","/* global $ */\n\nconst DEFAULTS = 'defaults';\n\n/* User defaults class\n * 初期設定クラス\n * \n */\nexport default class UserDefaults {\n\n\tconstructor() {\n\t\tthis.defaults = {\n\t\t\tall: {\n\t\t\t\tprovidedAs: 'original'\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\tsortBy: 'LastUpdate',\n\t\t\t\tisAscend: true,\n\t\t\t\tfilteringTags: null\n\t\t\t},\n\t\t\tmatrix: {\n\t\t\t\tsortBy: 'Triples',\n\t\t\t\tcolItems: [\n\t\t\t\t\t{ name: 'Alphabetical', isAscend: true },\n\t\t\t\t\t{ name: 'Triples', isAscend: true },\n\t\t\t\t\t{ name: 'Links', isAscend: true },\n\t\t\t\t\t{ name: 'Classes', isAscend: true },\n\t\t\t\t\t{ name: 'Instances', isAscend: true },\n\t\t\t\t\t{ name: 'Literals', isAscend: true },\n\t\t\t\t\t{ name: 'Subjects', isAscend: true },\n\t\t\t\t\t{ name: 'Properties', isAscend: true },\n\t\t\t\t\t{ name: 'Objects', isAscend: true }\n\t\t\t\t\t]\n\t\t\t},\n\t\t\tgraph: {\n\t\t\t\tscaling: 'None',\n\t\t\t\tmarkedTag: 'Invalid'\n\t\t\t},\n\t\t\tmisc: {\n\t\t\t\tlanguage: 'en',\n\t\t\t\tisOpenedControlPanel: true\n\t\t\t}\n\t\t};\n\t\tthis._defaults;\n\t\t$.cookie.json = true;\n\t\tconst self = this;\n\n\t\tif ($.cookie(DEFAULTS)) {\n\t\t\tthis._defaults = $.cookie(DEFAULTS);\n\t\t} else  {\n\t\t\tthis._defaults = $.extend(true, {}, this.defaults);\n\t\t}\n\n\t\t// check user defaults\n\t\tvar _check = function(obj1, obj2){\n\t\t\tfor(var i in obj2){\n\t\t\t\tif (obj1[i] === undefined || typeof obj1[i] !== typeof obj2[i]) {\n\t\t\t\t\tthrow 'unmatch';\n\t\t\t\t} else {\n\t\t\t\t\tswitch(typeof obj2[i]) {\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tcase 'array':\n\t\t\t\t\t\t\t_check(obj1[i], obj2[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\t_check(this._defaults, this.defaults);\n\t\t} catch(e) {\n\t\t\twindow.console.log(e);\n\t\t\tthis._defaults = $.extend(true, {}, this.defaults);\n\t\t}\n\n\t\tthis.all = {\n\t\t\tget providedAs() {\n\t\t\t\treturn self._defaults.all.providedAs;\n\t\t\t},\n\t\t\tset providedAs(val) {\n\t\t\t\tself._defaults.all.providedAs = val;\n\t\t\t}\n\t\t};\n\t\tthis.home = {\n\t\t};\n\t\tthis.list = {\n\t\t\tget sortBy() {\n\t\t\t\treturn self._defaults.list.sortBy;\n\t\t\t},\n\t\t\tset sortBy(val) {\n\t\t\t\tself._defaults.list.sortBy = val;\n\t\t\t},\n\t\t\tget isAscend() {\n\t\t\t\treturn self._defaults.list.isAscend;\n\t\t\t},\n\t\t\tset isAscend(val) {\n\t\t\t\tself._defaults.list.isAscend = val;\n\t\t\t},\n\t\t\tget filteringTags() {\n\t\t\t\treturn self._defaults.list.filteringTags;\n\t\t\t},\n\t\t\tset filteringTags(val) {\n\t\t\t\tself._defaults.list.filteringTags = val;\n\t\t\t}\n\t\t};\n\t\tthis.matrix = {\n\t\t\tget sortBy() {\n\t\t\t\treturn self._defaults.matrix.sortBy;\n\t\t\t},\n\t\t\tset sortBy(val) {\n\t\t\t\tself._defaults.matrix.sortBy = val;\n\t\t\t},\n\t\t\tget colItems() {\n\t\t\t\treturn self._defaults.matrix.colItems;\n\t\t\t},\n\t\t\tset colItems(val) {\n\t\t\t\tself._defaults.matrix.colItems = val;\n\t\t\t}\n\t\t};\n\t\tthis.graph = {\n\t\t\tget scaling() {\n\t\t\t\treturn self._defaults.graph.scaling;\n\t\t\t},\n\t\t\tset scaling(val) {\n\t\t\t\tself._defaults.graph.scaling = val;\n\t\t\t},\n\t\t\tget markedTag() {\n\t\t\t\treturn self._defaults.graph.markedTag;\n\t\t\t},\n\t\t\tset markedTag(val) {\n\t\t\t\tself._defaults.graph.markedTag = val;\n\t\t\t}\n\t\t};\n\t\tthis.detail = {\n\t\t};\n\t\tthis.misc = {\n\t\t\tget language() {\n\t\t\t\treturn self._defaults.misc.language;\n\t\t\t},\n\t\t\tset language(val) {\n\t\t\t\tself._defaults.misc.language = val;\n\t\t\t},\n\t\t\tget isOpenedControlPanel() {\n\t\t\t\treturn self._defaults.misc.isOpenedControlPanel;\n\t\t\t},\n\t\t\tset isOpenedControlPanel(val) {\n\t\t\t\tself._defaults.misc.isOpenedControlPanel = val;\n\t\t\t}\n\t\t};\n\n\t}\n\n\n\tsynchronize() {\n\t\t$.cookie(DEFAULTS, this._defaults);\n\t}\n\n} // ********** end of UserDefaults class\n","/*global $, d3 */\nimport {$w, __g} from './global.js';\n\nimport RDFPortal from './RDFPortal.js';\nimport UserDefaults from './UserDefaults.js';\n\n\n$(function() {\n\t__g.d3.svg = d3.select('main#main-view').append('svg').attr('id', 'svg');\n\n\t// ガイドラインの取得\n\t$('#guideline-view').find('.guideline-outline li').each((index, elm) => {\n\t\tconst $this = $(elm);\n\t\t__g.guideline[$this.find('.guideline-number').text()] = $this.find('.guideline-statement').text();\n\t});\n\n\t// dataset の json ファイルをロードしたらアプリケーションの初期化\n\t$.getJSON(\n\t\t'strings.json',\n\t\tfunction(data) {\n\t\t\t__g.STRINGS = data;\n\t\t\t$.getJSON(\n\t\t\t\t'data/datasets.json',\n\t\t\t\tdata => init(data)\n\t\t\t);\n\t\t}\n\t);\n\tfunction init(data) {\n\t\t__g.userDefaults = new UserDefaults();\n\t\t__g.app = new RDFPortal();\n\t\t__g.app.init(data);\n\t\t// ウインドウを閉じる際に諸情報を保存\n\t\t$w.on('unload', () => __g.userDefaults.synchronize());\n\t}\n\n});\n"],"names":["$w","$","window","__g","VIEWS","home","datasets","statistics","network","documents","guideline","changeLog","dataset","VIEWS_NAME","VIEWS_LABEL","VIEW_LABEL_DETAIL","STAR_TYPE","first","connected","STRINGS","COLORS","DURATION","DETAIL_DELAY","CLASS","STAR_HOVERING","TAG_HOVERING","CONNECTED_STAR_HOVERING","DETAIL_MARGIN","DETAIL_MARGIN_RIGHT","DATA_LENGTH","SVG_MARGIN_LEFT","d3","svg","undefined","edges","nodesData","nodesSelection","linksData","linksSelection","force","disposableStarId","canvasId","controlPanel","userDefaults","styleSheet","rootPath","host","location","pathname","path","indexOf","_html","tag","attr","html","arguments","length","attrObje","attrHtml","i","_MLHtml","MLtext","lang","_numeral","value","_htmlAnchor","uri","label","href","target","_MLAnchor","isString","uri2","_htmlTR","key","_htmlTRValueNumeral","_htmlTRHasDetailValueNumeral","_htmlTRHasDetailValueNumeral2","kind","jsonUri","classification","index","_htmlTRDetail","detailHtml","_htmlHasDetailAndDetail","item","app","starId","currentStarId","STR","noOf","class","colspan","subHtml","_htmlStatics","HYPHEN","DATASETS","NO_OF_CLASSES","classes","NO_OF_PROPERTIES","properties","NO_OF_DATATYPES","datatypes","noOfFiles","files","subHtml2","description","subHtml3","name","size","subjects","noOfSubjects","objects","noOfObjects","literals","noOfLiterals","instances","noOfInstances","numberOfInstances","triples","noOfTriples","numberOfTriples","j","datatype","_sort","kindOfSorting","isAscend","mapper","functionName","sortedIds","ids","id","title","language","push","sort","a","b","dataProvider","date","issued","split","Date","getTime","_sanitizeTag","replace","_placeComma","elm","find","each","textContent","classList","remove","add","_CORN","NUMBER_OF_LINE","ORIGIN","X","Y","ELLIPSE","POSITIONS","RATIO","RESOLUTION","RADIUS","SHOW_DURATION","HomeViewController","_isInitialized","_d3Corn","$view","y","radian1","radian2","radian3","radius","append","Math","PI","cos","sin","on","getAttribute","trigger","statisticsItems","noOfLinks","sampleString","figure","ceil","processedNumber","round","roundedString","toLocaleString","d","source","x","style","stop","setTimeout","changed","innerHeight","bind","ListViewController","_placedStarCoutner","$stars","makeList","addNotificationObserver","receiveNotificationChangeSorting","receiveNotificationChangeFilter","placeStars","$main","not","css","width","triggerHandler","top","height","starsWithKeys","prepareListView","off","removeNotificationObserver","stars","prepareLeaveFromListView","MatrixItemView","colItem","order","delegate","_$matrix","_$head","_$body","sum","_sortedIds","left","CELL","WIDTH","MatrixScrollbarView","_delegate","_matrixWidth","_widthRatio","_scrollBarWidth","_$scrollArea","children","_$scrollBar","draggable","axis","containment","drag","event","obj","position","_$inner","offset","range","scrollLeft","_matrixOverallWidth","innerWidth","matrixHeight","_matrixOverallHeight","bottom","display","HEIGHT","PADDING_BOTTOM","PADDING_RIGHT","MatrixViewController","_sortBy","_sortedColItems","_scrollBar","_$colItems","matrix","sortBy","colItems","makeMatrix","$star","e","delegateTarget","addClass","removeClass","prepareMatrixView","filter","$cell","contains","data","mouseenter","mouseleave","enable","itemName","matrixReplace","forEach","disable","GraphViewController","receiveNotificationChangeSizing","d3NumberOfTriples","parseFloat","restart","star","prepareGraphView","prepareLeaveFromGraphView","forceCollide","strength","iterations","PATH","ManualViewController","params","documentName","when","ajax","url","dataType","done","en","ja","contents","content","htmlText","marked","htmlElements","parseHTML","$container","section","document","createElement","nodeType","Node","ELEMENT_NODE","tagName","appendChild","CodeMirror","fromTextArea","mode","matchBrackets","lineNumbers","self","GuidelineViewController","MAX","ChangeLogViewController","_$","getJSON","logJson","$homeChangeLogH2","_changeLog","change_log","min","log","after","changeView","article","$targetArticle","animate","scrollTop","duration","EXCLUSIVE_WORDS","CANVAS_SIZE","CANVAS_MARGIN","FONT_SIZE","offScreenCanvasContainer","StarImage","_id","_$container","_callback","_logotypeUrl","_img","_bgColor","_$img","getElementById","logotypeUrl","Image","src","complete","generateIconFromImg","onload","onerror","generateIconFromText","canvas","className","titleWords","acronym","fontSize","textMaxWidth","ctx","metrics","charAt","toUpperCase","generateCanvas","getContext","fillStyle","arc","fill","textAlign","textBaseline","font","measureText","fillText","toDataURL","removeChild","generateIcon","dx","dy","dw","dh","beginPath","clip","naturalWidth","naturalHeight","drawImage","payload","color","OFFSET","DetailViewController","_counter","_$currentDetailView","_$frame","makeDetailView","ID_SPECIFICATION","ID_CONNECTED_DATASETS","ID_STATISTICS","ID_SCHEMA","ID_SPARQL_EXAMPLES","ID_STANZA","$connectedDataset","$detailNavigationItems","_$schemaImages","noOfConnectedDatasets","connectedDatasetIds","xref","noOfSPARQLExamples","SPARQLExamples","noOfSchema","schema","disposableStarIds","cmEditor","cmEditors","prepareDetailView","launch","specification","tags","creators","numberOfCreators","affiliation","version","license","credit","status","reviewed","unreviewed","providedAs","originalDataset","thirdPartyDataset","downloadFile","subHtml1","connectedDatasetIDs","type","maxTriples","noOfXrefs","noOfTriple","imageUri","open","sparqlExamples","sparql","action","method","sparqlEndpoint","noOfStanza","setSize","$stanza","parents","$iframe","$parameters","substring","$parameter","text","val","$target","scrollBottom","parentNode","clickedAlias","_setDetailCollapsible","isCollapsible","isOpened","isLoaded","jsonKind","parseInt","$this","$closer","next","$closerInner","outerHeight","load","_makeCollapsedTable","$tbody","anchor","noOfDomainClasses","noOfRangeClasses","property","domainClasses","rangeClasses","subHtml4","subHtml5","k","rowspan","domainClass","rangeClass","more","delay","opacity","prepareLeaveFromDetailView","Datasets","_noOfDatasets","_classes","_graphClasses","_ontologyClasses","_properties","_graphProperties","_ontologyProperties","logo_url","schema_image_urls","download_file","number_of_triples","number_of_instances","number_of_subjects","number_of_objects","number_of_literals","noOfClasses","number_of_classes","noOfProperties","number_of_properties","noOfDatatypes","number_of_datatypes","number_of_links","callback","domain_classes","index2","domain_class","range_classes","range_class","xrefs","uri_space","connected_dataset_ids","ontologies","index3","graphs","targets","information_types","targetsLength","informationTypes","informationType","sparql_examples","stanza","definition","parameter","example","required","usage","context","provider","author","address","contributor","created","updated","Object","keys","provided_as","project_name","data_provider","_INTERVAL","_DURATION","ViewLabel","_isChanging","_timerId","_index","_changingLable","_$label","changeLable","currentView","clearTimeout","changingLabel","floor","remainder","changingLable","substr","slice","random","String","fromCharCode","_OPENED","ControlPanel","_$controlPanel","_$tagFilterButtonAll","_$tagMarker","_$display","listView","sortOrder","graphView","scalingBy","_$markedTagButtons","_tags","_$tagFilters","_defaults","_providedAs","_isAscend","_scaling","_filteringTags","_markedTag","_colorSchema","toggleClass","misc","isOpenedControlPanel","hasClass","idFilter","htmlFilter","htmlMarker","counter","Invalid","for","insertRule","cssRules","currentTarget","all","postNortification","list","get","setAttribute","nextElementSibling","innerHTML","end","graph","scaling","checked","filteringTags","click","markedTag","prop","OPENING_RADIAL","SIZE","REGULAR","MIN","LIST_MIN_HEIGHT","count","Star","_elm","_data","_datasets","_$icon","_$h","_$tagHalo","_$numberOf","_isInternal","_key","_size","_matrix","rows","_mouseDownPosition","_d3","select","_order","_radius","noOfDatasets","datum","isInternal","tagClass","selectedStar","appPrepareDecrement","connectedDatasets","connectedDatasetId","sizing","number","denominator","kindOfScaling","maxValue","instance","literal","object","subject","triple","sqrt","toLowerCase","marginLeft","marginTop","hidden","selectedFilteringTags","providedAsFilter","_sizing","easing","tag1","tag2","selectFilteringTag","placedStar","options","selectAll","classed","receiveNotificationChangeTagMarker","selectedMarkedTag","param","$icon","offsetLeft","offsetTop","_MAIN_VIEW_LEFT","_MAIN_VIEW_RIGHT","_MAIN_VIEW_TOP","_MAIN_VIEW_BOTTOM","RDFPortal","_appPrepareCounter","_currentView","_currentStarId","_notifications","_homeViewController","_listViewController","_matrixViewController","_graphViewController","_manualViewController","_guidelineViewController","_changeLogViewController","_detailViewController","_$navButtons","_changeId","urlParameter","view","page","routeDetail","routeDocuments","route","start","queue","ajaxSetup","cache","notificationName","observer","functionObj","isMatch","notification","function","splice","call","_startApp","kindOfView","labelOfView","render","pagetype","hide","viewLabel","currentViewController","console","show","idIndices","newStyle","screenWidth","screenHeight","$offScreenCanvas","mainView","center","getElementsByTagName","styleSheets","forceCenter","enter","connectedId","sourceId","targetId","d3This","ratio","stroke","strokeWidth","forceSimulation","alpha","alphaTarget","forceLink","forceManyBody","forceX","forceY","nodes","links","active","fx","fy","DEFAULTS","UserDefaults","defaults","cookie","json","extend","_check","obj1","obj2","detail","init","synchronize"],"mappings":"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"}